{"version":3,"file":"kids-tasks-card.dev.js","sources":["../src/style-manager.js","../src/utils.js","../src/base-card.js","../src/card.js","../src/child-card.js","../src/editors.js","../src/main.js"],"sourcesContent":["// Kids Tasks Style Manager - Global styles and theming system\r\n\r\nclass KidsTasksStyleManager {\r\n  static instance = null;\r\n  static injected = false;\r\n  static currentVersion = 'v1.1.0';\r\n  \r\n  static getInstance() {\r\n    if (!this.instance) {\r\n      this.instance = new KidsTasksStyleManager();\r\n    }\r\n    return this.instance;\r\n  }\r\n  \r\n  static injectGlobalStyles() {\r\n    // V√©rifier si les styles sont d√©j√† inject√©s\r\n    const existingStyles = document.querySelector('#kids-tasks-global-styles');\r\n    if (existingStyles || this.injected) {\r\n      return;\r\n    }\r\n    \r\n    const styleElement = document.createElement('style');\r\n    styleElement.id = 'kids-tasks-global-styles';\r\n    styleElement.setAttribute('data-version', this.currentVersion);\r\n    \r\n    styleElement.textContent = this.getGlobalStyles();\r\n    document.head.appendChild(styleElement);\r\n    \r\n    this.injected = true;\r\n    console.log('Kids Tasks: Global styles injected v' + this.currentVersion);\r\n  }\r\n  \r\n  static getGlobalStyles() {\r\n    return `\r\n      /* === VARIABLES CSS GLOBALES KIDS TASKS === */\r\n      :root {\r\n        --kt-primary: var(--primary-color, #3f51b5);\r\n        --kt-secondary: var(--accent-color, #ff4081);\r\n        --kt-success: #4caf50;\r\n        --kt-warning: #ff9800;\r\n        --kt-error: #f44336;\r\n        --kt-info: #2196f3;\r\n        \r\n        /* Status unifi√© */\r\n        --kt-status-todo: var(--kt-warning);\r\n        --kt-status-progress: var(--kt-info);\r\n        --kt-status-pending: #ff9800;\r\n        --kt-status-completed: var(--kt-success);\r\n        --kt-status-validated: var(--kt-success);\r\n        --kt-status-failed: var(--kt-error);\r\n        \r\n        /* Monnaies et points */\r\n        --kt-points-color: var(--kt-success);\r\n        --kt-coins-color: #9C27B0;\r\n        --kt-penalty-color: var(--kt-error);\r\n        --kt-points-plus: var(--kt-success);\r\n        --kt-points-minus: var(--kt-error);\r\n        \r\n        /* Raret√©s cosm√©tiques */\r\n        --kt-rarity-common: #9e9e9e;\r\n        --kt-rarity-rare: var(--kt-info);\r\n        --kt-rarity-epic: var(--kt-secondary);\r\n        --kt-rarity-legendary: var(--kt-warning);\r\n        \r\n        /* Notifications */\r\n        --kt-notification-success: var(--kt-success);\r\n        --kt-notification-error: var(--kt-error);\r\n        --kt-notification-info: var(--kt-info);\r\n        \r\n        /* Effets visuels */\r\n        --kt-shadow-light: rgba(0, 0, 0, 0.1);\r\n        --kt-shadow-medium: rgba(0, 0, 0, 0.2);\r\n        --kt-shadow-heavy: rgba(0, 0, 0, 0.3);\r\n        --kt-overlay: rgba(0, 0, 0, 0.5);\r\n        \r\n        /* Surfaces et bordures */\r\n        --kt-surface-variant: var(--secondary-background-color, #fafafa);\r\n        --kt-border-thin: 1px solid var(--divider-color, #e0e0e0);\r\n        \r\n        /* Avatar et cosm√©tiques */\r\n        --kt-avatar-background: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%);\r\n        --kt-cosmetic-border: rgba(0,0,0,0.1);\r\n        --kt-cosmetic-background: rgba(255,255,255,0.1);\r\n        \r\n        /* Espacements standardis√©s */\r\n        --kt-space-xs: 4px;\r\n        --kt-space-sm: 8px;\r\n        --kt-space-md: 16px;\r\n        --kt-space-lg: 24px;\r\n        --kt-space-xl: 32px;\r\n        \r\n        /* Rayons de courbure standardis√©s */\r\n        --kt-radius-sm: 8px;\r\n        --kt-radius-md: 12px;\r\n        --kt-radius-lg: 16px;\r\n        --kt-radius-xl: 24px;\r\n        --kt-radius-round: 50%;\r\n        \r\n        /* Transitions communes */\r\n        --kt-transition-fast: 0.2s ease;\r\n        --kt-transition-medium: 0.3s ease;\r\n        --kt-transition-slow: 0.5s ease;\r\n        \r\n        /* Polices et tailles */\r\n        --kt-font-family: var(--paper-font-body1_-_font-family, 'Roboto', sans-serif);\r\n        --kt-font-size-xs: 0.75em;\r\n        --kt-font-size-sm: 0.85em;\r\n        --kt-font-size-md: 1em;\r\n        --kt-font-size-lg: 1.2em;\r\n        --kt-font-size-xl: 1.5em;\r\n      }\r\n\r\n      /* === COMPOSANTS CSS GLOBAUX KIDS TASKS === */\r\n      .kids-tasks-scope {\r\n        font-family: var(--kt-font-family);\r\n      }\r\n      \r\n      /* Composants KT-* avec pr√©fixe pour dialogs */\r\n      ${this.getCoreKTStyles().replace(/\\.kt-/g, '.kids-tasks-scope .kt-')}\r\n      \r\n      /* Classes utilitaires */\r\n      .kids-tasks-scope .avatar-placeholder {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        border-radius: var(--kt-radius-round);\r\n        font-size: 20px;\r\n        color: rgba(0, 0, 0, 0.4);\r\n        z-index: 1;\r\n      }\r\n      \r\n      .kids-tasks-scope .avatar-placeholder-large {\r\n        border-radius: var(--kt-radius-md);\r\n        font-size: 32px;\r\n        width: 100px;\r\n        height: 100px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        color: rgba(0, 0, 0, 0.4);\r\n        border: 2px solid var(--kt-cosmetic-border);\r\n      }\r\n      \r\n      /* Interface historique */\r\n      .kids-tasks-scope .child-history-container {\r\n        max-width: 600px;\r\n        margin: 0 auto;\r\n      }\r\n      \r\n      .kids-tasks-scope .history-header {\r\n        border-bottom: 1px solid var(--divider-color, #e0e0e0);\r\n        margin-bottom: var(--kt-space-lg);\r\n      }\r\n      \r\n      .kids-tasks-scope .history-content {\r\n        max-height: 400px;\r\n        overflow-y: auto;\r\n      }\r\n      \r\n      .kids-tasks-scope .history-list {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: var(--kt-space-xs);\r\n      }\r\n      \r\n      .kids-tasks-scope .history-entry {\r\n        display: flex;\r\n        flex-direction: column;\r\n        border: var(--kt-border-thin);\r\n        border-radius: var(--kt-radius-lg);\r\n        transition: all var(--kt-transition-fast);\r\n      }\r\n      \r\n      .kids-tasks-scope .history-entry:hover {\r\n        transform: translateY(-1px);\r\n        box-shadow: 0 2px 8px var(--kt-shadow-light);\r\n      }\r\n      \r\n      .kids-tasks-scope .entry-title {\r\n        display: flex;\r\n        flex-direction: row;\r\n        place-items: center;\r\n        padding: 4px 0px 0px 4px;\r\n      }\r\n\r\n      .kids-tasks-scope .entry-content {\r\n        display: flex;\r\n        flex-direction: row;\r\n        padding-left: 2em;\r\n      }\r\n\r\n      .kids-tasks-scope .entry-description {\r\n        font-weight: 600;\r\n        color: var(--primary-text-color, #212121);\r\n        padding-left: 1em;\r\n      }\r\n\r\n      .kids-tasks-scope .entry-date {\r\n        font-style: italic;\r\n        font-size: 0.6em;\r\n        align-self: center;\r\n      }\r\n\r\n      .kids-tasks-scope .entry-type {\r\n        padding: 2px var(--kt-space-xs);\r\n        border-radius: var(--kt-radius-sm);\r\n        align-self: center;\r\n      }\r\n\r\n      .kids-tasks-scope .entry-points {\r\n        font-weight: 700;\r\n        font-size: 1.1em;\r\n        padding: var(--kt-space-xs) var(--kt-space-sm);\r\n        border-radius: var(--kt-radius-md);\r\n        flex-shrink: 0;\r\n      }\r\n\r\n      .kids-tasks-scope .entry-points.plus {\r\n        color: var(--kt-points-plus);\r\n      }\r\n\r\n      .kids-tasks-scope .entry-points.minus {\r\n        color: var(--kt-points-minus);\r\n      }\r\n\r\n      .kids-tasks-scope .entry-icon {\r\n        font-size: 1.5em;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        flex-shrink: 0;\r\n      }\r\n      \r\n      .kids-tasks-scope .empty-history {\r\n        text-align: center;\r\n        padding: var(--kt-space-xl);\r\n        color: var(--secondary-text-color, #757575);\r\n      }\r\n      \r\n      .kids-tasks-scope .empty-icon {\r\n        font-size: 3em;\r\n        margin-bottom: var(--kt-space-md);\r\n        opacity: 0.6;\r\n      }\r\n      \r\n      .kids-tasks-scope .current-stats {\r\n        display: flex;\r\n        gap: var(--kt-space-md);\r\n      }\r\n      \r\n      .kids-tasks-scope .current-stats .stat {\r\n        background: var(--kt-surface-variant);\r\n        padding: var(--kt-space-xs) var(--kt-space-sm);\r\n        border-radius: var(--kt-radius-md);\r\n        font-size: 0.9em;\r\n        font-weight: 600;\r\n      }\r\n    `;\r\n  }\r\n  \r\n  // M√©thode centrale pour les styles kt-* (source unique de v√©rit√©)\r\n  static getCoreKTStyles() {\r\n    return `\r\n      /* Avatar Section Components */\r\n      .kt-avatar-section {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        gap: var(--kt-space-xs);\r\n      }\r\n      \r\n      .kt-avatar-container {\r\n        position: relative;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        gap: var(--kt-space-xs);\r\n      }\r\n      \r\n      .kt-avatar {\r\n        font-size: 3em;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        border-radius: var(--kt-radius-round);\r\n        background: var(--kt-avatar-background);\r\n        border: 2px solid var(--kt-cosmetic-background);\r\n        transition: all var(--kt-transition-fast);\r\n      }\r\n      \r\n      .kt-avatar--small { font-size: 1.5em; }\r\n      .kt-avatar--large { font-size: 4em; }\r\n      .kt-avatar--extra-large { font-size: 6em; }\r\n      \r\n      .kt-avatar img {\r\n        width: 2em;\r\n        height: 2em;\r\n        border-radius: var(--kt-radius-round) !important;\r\n        object-fit: cover !important;\r\n        border: 2px solid var(--kt-cosmetic-background, rgba(255,255,255,0.2));\r\n        box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n      }\r\n      \r\n      /* Child Name and Level Components */\r\n      .kt-child-name-header {\r\n        font-size: 2em;\r\n        line-height: 1.2em;\r\n        font-weight: 700;\r\n        text-align: center;\r\n        color: var(--custom-child-text-color, var(--header-text-color, var(--primary-text-color)));\r\n        text-shadow: 0 1px 2px rgba(0,0,0,0.3);\r\n      }\r\n      \r\n      .kt-level-badge {\r\n        position: absolute;\r\n        top: 100px;\r\n        border-radius: var(--kt-radius-md);\r\n        font-size: 0.8em;\r\n        font-weight: 600;\r\n        text-align: center;\r\n        z-index: 2;\r\n        background: var(--custom-points-badge-color, var(--primary-color, #3f51b5));\r\n        backdrop-filter: blur(10px);\r\n        padding: var(--kt-space-xs) 8px;\r\n        min-width: 60px;\r\n        box-shadow: 0 2px 4px rgba(0,0,0,0.2);\r\n      }\r\n      \r\n      /* Child Info Components */\r\n      .kt-child-info {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: var(--kt-space-lg);\r\n        margin-bottom: var(--kt-space-lg);\r\n      }\r\n      \r\n      .kt-child-details {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: var(--kt-space-sm);\r\n      }\r\n      \r\n      .kt-child-details .current-stats {\r\n        display: flex;\r\n        gap: var(--kt-space-md);\r\n        flex-wrap: wrap;\r\n      }\r\n      \r\n      .kt-child-details .current-stats .stat {\r\n        font-weight: 600;\r\n        font-size: 0.9em;\r\n        color: var(--secondary-text-color, #666);\r\n      }\r\n\r\n      /* Touch Interactions */\r\n      .kt-clickable-item {\r\n        cursor: pointer;\r\n        transition: all var(--kt-transition-fast);\r\n      }\r\n\r\n      .kt-clickable-item:hover {\r\n        background-color: var(--kt-surface-variant);\r\n        transform: translateY(-1px);\r\n        box-shadow: 0 2px 8px var(--kt-shadow-light);\r\n      }\r\n\r\n      .kt-clickable-item:active {\r\n        transform: translateY(0);\r\n        box-shadow: 0 1px 4px var(--kt-shadow-light);\r\n      }\r\n\r\n      /* Long Press Components */\r\n      .kt-long-press-item {\r\n        position: relative;\r\n      }\r\n\r\n      .kt-long-press-item.long-pressing {\r\n        animation: kt-pulse 0.6s ease-in-out;\r\n      }\r\n\r\n      @keyframes kt-pulse {\r\n        0%, 100% { transform: scale(1); }\r\n        50% { transform: scale(1.02); }\r\n      }\r\n\r\n      .kt-delete-confirmation {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        background: rgba(244, 67, 54, 0.9);\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        gap: var(--kt-space-md);\r\n        border-radius: var(--kt-radius-md);\r\n        z-index: 10;\r\n      }\r\n\r\n      .kt-delete-confirmation.hidden {\r\n        display: none;\r\n      }\r\n\r\n      .kt-confirm-delete {\r\n        background: var(--kt-error);\r\n        color: white;\r\n        border: none;\r\n        padding: var(--kt-space-sm) var(--kt-space-md);\r\n        border-radius: var(--kt-radius-sm);\r\n        font-weight: 600;\r\n        cursor: pointer;\r\n        transition: all var(--kt-transition-fast);\r\n      }\r\n\r\n      .kt-cancel-delete {\r\n        background: transparent;\r\n        color: white;\r\n        border: 2px solid white;\r\n        padding: var(--kt-space-sm) var(--kt-space-md);\r\n        border-radius: var(--kt-radius-sm);\r\n        font-weight: 600;\r\n        cursor: pointer;\r\n        transition: all var(--kt-transition-fast);\r\n      }\r\n\r\n      /* Swipe Interactions */\r\n      .kt-swipeable-item {\r\n        position: relative;\r\n        overflow: hidden;\r\n        touch-action: pan-y;\r\n      }\r\n\r\n      .kt-swipeable-item .kt-task-content {\r\n        position: relative;\r\n        display: flex;\r\n        flex-direction: row;\r\n        width: 100%;\r\n        z-index: 2;\r\n        transition: transform var(--kt-transition-medium);\r\n      }\r\n\r\n      .kt-swipeable-item.swiping-left::before,\r\n      .kt-swipeable-item.swiping-right::before {\r\n        content: '';\r\n        position: absolute;\r\n        top: 0;\r\n        bottom: 0;\r\n        width: 80px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        z-index: 1;\r\n        font-size: 24px;\r\n        font-weight: bold;\r\n        color: white;\r\n      }\r\n\r\n      .kt-swipeable-item.swiping-left::before {\r\n        content: '‚úó';\r\n        font-size: 3em;\r\n        left: 0;\r\n        background: linear-gradient(90deg, var(--kt-error), transparent);\r\n      }\r\n\r\n      .kt-swipeable-item.swiping-right::before {\r\n        right: 0;\r\n        background: linear-gradient(-90deg, var(--kt-success), transparent);\r\n      }\r\n\r\n      .kt-swipeable-item.pending-validation.swiping-right::before {\r\n        font-size: 3em;\r\n        content: '‚úì';\r\n        background: linear-gradient(-90deg, var(--kt-success), transparent);\r\n      }\r\n\r\n      .kt-swipeable-item.reward-item.swiping-right::before {\r\n        font-size: 3em;\r\n        content: 'üóëÔ∏è';\r\n        background: linear-gradient(-90deg, var(--kt-error), transparent);\r\n      }\r\n\r\n      .kt-swipeable-item.swiping-left .kt-task-content {\r\n        transform: translateX(-20px);\r\n      }\r\n      \r\n      .kt-swipeable-item.swiping-right .kt-task-content {\r\n        transform: translateX(20px);\r\n      }\r\n\r\n      /* Animation Effects */\r\n      .kt-task-item.editing {\r\n        outline: 2px solid var(--kt-primary);\r\n        outline-offset: 2px;\r\n      }\r\n\r\n      .task.kt-animating-validated {\r\n        animation: kt-slideOutRight 0.3s ease-out forwards;\r\n      }\r\n\r\n      .task.kt-animating-rejected {\r\n        animation: kt-slideOutLeft 0.3s ease-out forwards;\r\n      }\r\n\r\n      @keyframes kt-slideOutRight {\r\n        to {\r\n          transform: translateX(100%);\r\n          opacity: 0;\r\n        }\r\n      }\r\n\r\n      @keyframes kt-slideOutLeft {\r\n        to {\r\n          transform: translateX(-100%);\r\n          opacity: 0;\r\n        }\r\n      }\r\n    `;\r\n  }\r\n  \r\n  static removeGlobalStyles() {\r\n    const existingStyles = document.querySelector('#kids-tasks-global-styles');\r\n    if (existingStyles) {\r\n      existingStyles.remove();\r\n      this.injected = false;\r\n      console.log('Kids Tasks: Global styles removed');\r\n    }\r\n  }\r\n}\r\n\r\n// ES6 export\r\nexport { KidsTasksStyleManager };","// Kids Tasks Utilities - Shared helper functions\r\n\r\nclass KidsTasksUtils {\r\n  \r\n  // Icon rendering utility\r\n  static renderIcon(iconData) {\r\n    if (!iconData || iconData === '') return 'üìã';\r\n    \r\n    try {\r\n      // If it's a URL (starts with http:// or https://)\r\n      if (typeof iconData === 'string' && (iconData.startsWith('http://') || iconData.startsWith('https://'))) {\r\n        return `<img src=\"${iconData}\" class=\"icon-image\" style=\"width: 1.2em; height: 1.2em; object-fit: cover; border-radius: 3px;\" onerror=\"this.style.display='none'; this.insertAdjacentText('afterend', 'üìã');\">`;\r\n      }\r\n      \r\n      // If it's an MDI icon (starts with mdi:)\r\n      if (typeof iconData === 'string' && iconData.startsWith('mdi:')) {\r\n        return `<ha-icon icon=\"${iconData}\" style=\"width: 1.2em; height: 1.2em;\"></ha-icon>`;\r\n      }\r\n      \r\n      // Otherwise, treat as emoji or plain text\r\n      const iconString = iconData.toString();\r\n      return iconString || 'üìã';\r\n    } catch (error) {\r\n      console.warn('Error in renderIcon:', error);\r\n      return 'üìã';\r\n    }\r\n  }\r\n\r\n  // Empty state component\r\n  static emptySection(icon, text, subtext) {\r\n    return `\r\n      <div class=\"empty-state\">\r\n        <div class=\"empty-icon\">${icon}</div>\r\n        <div class=\"empty-text\">${text}</div>\r\n        <div class=\"empty-subtext\">${subtext}</div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  // Category icon resolution\r\n  static getCategoryIcon(categoryOrItem, dynamicIcons = {}, rewardIcons = {}) {\r\n    // If it's an object (task/reward), check custom icon first\r\n    if (typeof categoryOrItem === 'object' && categoryOrItem !== null) {\r\n      if (categoryOrItem.icon) {\r\n        return this.renderIcon(categoryOrItem.icon);\r\n      }\r\n      categoryOrItem = categoryOrItem.category;\r\n    }\r\n\r\n    // Dynamic icons from config\r\n    if (categoryOrItem && dynamicIcons) {\r\n      const category = categoryOrItem.toLowerCase();\r\n      if (dynamicIcons[category]) {\r\n        return this.renderIcon(dynamicIcons[category]);\r\n      }\r\n    }\r\n\r\n    // Reward icons from config\r\n    if (categoryOrItem && rewardIcons) {\r\n      const category = categoryOrItem.toLowerCase();  \r\n      if (rewardIcons[category]) {\r\n        return this.renderIcon(rewardIcons[category]);\r\n      }\r\n    }\r\n\r\n    // Default fallback\r\n    return this.renderIcon('üìã');\r\n  }\r\n\r\n  // Generate cosmetic data from reward name\r\n  static generateCosmeticDataFromName(rewardName) {\r\n    if (!rewardName) return null;\r\n    \r\n    const name = rewardName.toLowerCase();\r\n    \r\n    // Avatars\r\n    if (name.includes('avatar') || name.includes('personnage')) {\r\n      return {\r\n        type: 'avatar',\r\n        catalog_data: { emoji: 'üë§', default_avatar: true }\r\n      };\r\n    }\r\n    \r\n    // Backgrounds\r\n    if (name.includes('fond') || name.includes('background') || name.includes('th√®me')) {\r\n      return {\r\n        type: 'background',\r\n        catalog_data: { css_gradient: 'var(--kt-gradient-neutral)' }\r\n      };\r\n    }\r\n    \r\n    // Outfits\r\n    if (name.includes('tenue') || name.includes('outfit') || name.includes('v√™tement')) {\r\n      return {\r\n        type: 'outfit',\r\n        catalog_data: { emoji: 'üëî', default_outfit: true }\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  // Task statistics calculation\r\n  static getTasksStatsForGauges(tasks, completedToday, isTaskActiveTodayFn) {\r\n    const activeTasks = tasks.filter(task => \r\n      task.status === 'todo' && \r\n      isTaskActiveTodayFn && isTaskActiveTodayFn(task)\r\n    );\r\n    \r\n    const totalTasksToday = activeTasks.length;\r\n    const completedTasks = completedToday || 0;\r\n    \r\n    const progressPercent = totalTasksToday > 0 ? Math.round((completedTasks / totalTasksToday) * 100) : 0;\r\n    \r\n    return {\r\n      completedToday: completedTasks,\r\n      totalTasksToday,\r\n      progressPercent,\r\n      activeTasks\r\n    };\r\n  }\r\n\r\n  // Format date for display\r\n  static formatDate(dateString) {\r\n    if (!dateString) return '';\r\n    \r\n    try {\r\n      const date = new Date(dateString);\r\n      const now = new Date();\r\n      const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n      const taskDate = new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n      \r\n      const diffTime = taskDate - today;\r\n      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n      \r\n      if (diffDays === 0) return 'Aujourd\\'hui';\r\n      if (diffDays === -1) return 'Hier';\r\n      if (diffDays === 1) return 'Demain';\r\n      if (diffDays > 1 && diffDays <= 7) return `Dans ${diffDays} jours`;\r\n      if (diffDays < -1 && diffDays >= -7) return `Il y a ${Math.abs(diffDays)} jours`;\r\n      \r\n      return date.toLocaleDateString('fr-FR', {\r\n        day: '2-digit',\r\n        month: '2-digit',\r\n        year: '2-digit'\r\n      });\r\n    } catch (error) {\r\n      console.warn('Error formatting date:', error);\r\n      return '';\r\n    }\r\n  }\r\n\r\n  // Points formatting utility\r\n  static formatPoints(points) {\r\n    if (!points || points === 0) return '0';\r\n    return points > 0 ? `+${points}` : points.toString();\r\n  }\r\n\r\n  // Currency class helper\r\n  static getCurrencyClass(reward) {\r\n    if (reward.cost > 0 && reward.coin_cost > 0) return 'dual-currency';\r\n    if (reward.coin_cost > 0) return 'coins-only';\r\n    return 'points-only';\r\n  }\r\n\r\n  // Mobile device detection\r\n  static detectMobileDevice() {\r\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||\r\n           (navigator.maxTouchPoints && navigator.maxTouchPoints > 2);\r\n  }\r\n\r\n  // Debounce utility for performance optimization\r\n  static debounce(func, wait) {\r\n    let timeout;\r\n    return function executedFunction(...args) {\r\n      const later = () => {\r\n        clearTimeout(timeout);\r\n        func(...args);\r\n      };\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(later, wait);\r\n    };\r\n  }\r\n\r\n  // Throttle utility for performance optimization\r\n  static throttle(func, limit) {\r\n    let inThrottle;\r\n    return function executedFunction(...args) {\r\n      if (!inThrottle) {\r\n        func.apply(this, args);\r\n        inThrottle = true;\r\n        setTimeout(() => inThrottle = false, limit);\r\n      }\r\n    };\r\n  }\r\n\r\n  // Deep clone utility\r\n  static deepClone(obj) {\r\n    if (obj === null || typeof obj !== 'object') return obj;\r\n    if (obj instanceof Date) return new Date(obj.getTime());\r\n    if (obj instanceof Array) return obj.map(item => this.deepClone(item));\r\n    if (typeof obj === 'object') {\r\n      const clonedObj = {};\r\n      for (const key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n          clonedObj[key] = this.deepClone(obj[key]);\r\n        }\r\n      }\r\n      return clonedObj;\r\n    }\r\n  }\r\n\r\n  // Safe property access utility\r\n  static safeGet(obj, path, defaultValue = null) {\r\n    const keys = path.split('.');\r\n    let current = obj;\r\n    \r\n    for (const key of keys) {\r\n      if (current === null || current === undefined || !current.hasOwnProperty(key)) {\r\n        return defaultValue;\r\n      }\r\n      current = current[key];\r\n    }\r\n    \r\n    return current;\r\n  }\r\n\r\n  // Validation utility\r\n  static isValidChild(child) {\r\n    return child && \r\n           typeof child === 'object' && \r\n           child.id && \r\n           child.name;\r\n  }\r\n\r\n  static isValidTask(task) {\r\n    return task && \r\n           typeof task === 'object' && \r\n           task.id && \r\n           task.name && \r\n           task.status;\r\n  }\r\n\r\n  static isValidReward(reward) {\r\n    return reward && \r\n           typeof reward === 'object' && \r\n           reward.id && \r\n           reward.name && \r\n           (reward.cost > 0 || reward.coin_cost > 0);\r\n  }\r\n\r\n  // Error boundary utility\r\n  static safeExecute(fn, fallbackValue = null, context = 'Unknown') {\r\n    try {\r\n      return fn();\r\n    } catch (error) {\r\n      console.warn(`Safe execute error in ${context}:`, error);\r\n      return fallbackValue;\r\n    }\r\n  }\r\n}\r\n\r\n// ES6 export\r\nexport { KidsTasksUtils };","// Kids Tasks Base Card - Foundation class for all card components\r\n\r\nimport { KidsTasksUtils } from './utils.js';\r\n\r\nclass KidsTasksBaseCard extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this.attachShadow({ mode: 'open' });\r\n    this._initialized = false;\r\n    \r\n    // Touch interaction state management\r\n    this._touchStates = new WeakMap();\r\n    this._touchControllers = new Map();\r\n    this._isMobile = this._detectMobileDevice();\r\n    \r\n    // Inject global styles on first load\r\n    if (typeof KidsTasksStyleManager !== 'undefined') {\r\n      KidsTasksStyleManager.injectGlobalStyles();\r\n    }\r\n  }\r\n\r\n  set hass(hass) {\r\n    const oldHass = this._hass;\r\n    this._hass = hass;\r\n    if (!this._initialized && hass) {\r\n      this._initialized = true;\r\n      this.shadowRoot.addEventListener('click', this.handleClick.bind(this));\r\n      this.initTouchInteractions();\r\n      this.render();\r\n    } else if (hass && this.shouldUpdate(oldHass, hass)) {\r\n      this.render();\r\n      if (this._initialized) {\r\n        this.initTouchInteractions();\r\n      }\r\n    }\r\n  }\r\n\r\n  handleClick(event) {\r\n    const target = event.target.closest('[data-action]');\r\n    if (!target) {\r\n      this._hideAllDeleteConfirmations();\r\n      return;\r\n    }\r\n\r\n    // Don't process clicks during long press\r\n    const longPressItem = target.closest('.long-pressing');\r\n    if (longPressItem) return;\r\n\r\n    // Check for active touch state\r\n    const touchState = this._touchStates.get(target.closest('.kt-long-press-item'));\r\n    if (touchState && touchState.isActive) return;\r\n\r\n    // Don't process clicks during swipe\r\n    const swipeableItem = target.closest('.kt-swipeable-item');\r\n    if (swipeableItem && (swipeableItem.classList.contains('swiping-left') || swipeableItem.classList.contains('swiping-right'))) {\r\n      return;\r\n    }\r\n\r\n    // Close other confirmations unless this is a confirmation button\r\n    if (!target.classList.contains('kt-confirm-delete') && !target.classList.contains('kt-cancel-delete')) {\r\n      this._hideAllDeleteConfirmations();\r\n    }\r\n\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    const action = target.dataset.action;\r\n    const id = target.dataset.id;\r\n\r\n    // Handle filter actions specially\r\n    if (action === 'filter-rewards' || action === 'filter-children' || action === 'filter-tasks') {\r\n      this.handleAction(action, target.dataset.filter, event);\r\n    } else {\r\n      this.handleAction(action, id, event);\r\n    }\r\n  }\r\n\r\n  // Touch Interaction System\r\n  _detectMobileDevice() {\r\n    return typeof KidsTasksUtils !== 'undefined' \r\n      ? KidsTasksUtils.detectMobileDevice()\r\n      : 'ontouchstart' in window || navigator.maxTouchPoints > 0;\r\n  }\r\n\r\n  initTouchInteractions() {\r\n    this._cleanupTouchInteractions();\r\n    this._initLongPressSystem();\r\n    this.addSwipeListeners();\r\n  }\r\n\r\n  _cleanupTouchInteractions() {\r\n    for (const controller of this._touchControllers.values()) {\r\n      controller.abort();\r\n    }\r\n    this._touchControllers.clear();\r\n    this._touchStates = new WeakMap();\r\n    this._longPressListenersAdded = false;\r\n    this._swipeListenersAdded = false;\r\n  }\r\n\r\n  _initLongPressSystem() {\r\n    if (this._longPressListenersAdded) return;\r\n    this._longPressListenersAdded = true;\r\n\r\n    const controller = new AbortController();\r\n    this._touchControllers.set('longpress', controller);\r\n    const signal = controller.signal;\r\n\r\n    const events = this._isMobile \r\n      ? { down: 'touchstart', up: 'touchend', move: 'touchmove' }\r\n      : { down: 'pointerdown', up: 'pointerup', move: 'pointermove' };\r\n\r\n    const handleStart = (e) => {\r\n      const longPressItem = e.target.closest('.kt-long-press-item');\r\n      if (!longPressItem || longPressItem.querySelector('.kt-delete-confirmation:not(.hidden)')) {\r\n        return;\r\n      }\r\n\r\n      const clientX = e.clientX || (e.touches && e.touches[0].clientX);\r\n      const clientY = e.clientY || (e.touches && e.touches[0].clientY);\r\n      \r\n      if (!clientX || !clientY) return;\r\n\r\n      const state = {\r\n        timer: null,\r\n        startX: clientX,\r\n        startY: clientY,\r\n        isActive: true,\r\n        element: longPressItem\r\n      };\r\n\r\n      const oldState = this._touchStates.get(longPressItem);\r\n      if (oldState && oldState.timer) {\r\n        clearTimeout(oldState.timer);\r\n      }\r\n\r\n      state.timer = setTimeout(() => {\r\n        if (state.isActive && this._touchStates.get(longPressItem) === state) {\r\n          longPressItem.classList.add('long-pressing');\r\n          this.showDeleteConfirmation(longPressItem);\r\n          if (navigator.vibrate) navigator.vibrate(50);\r\n        }\r\n      }, 500);\r\n\r\n      this._touchStates.set(longPressItem, state);\r\n    };\r\n\r\n    const handleEnd = (e) => {\r\n      const longPressItem = e.target.closest('.kt-long-press-item');\r\n      if (!longPressItem) return;\r\n\r\n      const state = this._touchStates.get(longPressItem);\r\n      if (state) {\r\n        if (state.timer) {\r\n          clearTimeout(state.timer);\r\n        }\r\n        state.isActive = false;\r\n        this._touchStates.delete(longPressItem);\r\n      }\r\n    };\r\n\r\n    const handleMove = (e) => {\r\n      const longPressItem = e.target.closest('.kt-long-press-item');\r\n      if (!longPressItem) return;\r\n\r\n      const state = this._touchStates.get(longPressItem);\r\n      if (!state || !state.isActive) return;\r\n\r\n      const clientX = e.clientX || (e.touches && e.touches[0].clientX);\r\n      const clientY = e.clientY || (e.touches && e.touches[0].clientY);\r\n      \r\n      if (clientX && clientY) {\r\n        const deltaX = Math.abs(clientX - state.startX);\r\n        const deltaY = Math.abs(clientY - state.startY);\r\n        const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\r\n\r\n        if (distance > 8) {\r\n          if (state.timer) {\r\n            clearTimeout(state.timer);\r\n          }\r\n          state.isActive = false;\r\n          this._touchStates.delete(longPressItem);\r\n        }\r\n      }\r\n    };\r\n\r\n    this.shadowRoot.addEventListener(events.down, handleStart, { signal });\r\n    this.shadowRoot.addEventListener(events.up, handleEnd, { signal });\r\n    this.shadowRoot.addEventListener(events.move, handleMove, { signal });\r\n  }\r\n\r\n  showDeleteConfirmation(item) {\r\n    this._hideAllDeleteConfirmations(item);\r\n    \r\n    const confirmation = item.querySelector('.kt-delete-confirmation');\r\n    if (confirmation) {\r\n      confirmation.classList.remove('hidden');\r\n      \r\n      const confirmBtn = confirmation.querySelector('.kt-confirm-delete');\r\n      const cancelBtn = confirmation.querySelector('.kt-cancel-delete');\r\n      \r\n      if (confirmBtn) {\r\n        confirmBtn.onclick = () => {\r\n          const deleteAction = item.dataset.deleteAction;\r\n          const id = item.dataset.id;\r\n          if (deleteAction && id) {\r\n            this.handleAction(deleteAction, id);\r\n          }\r\n          this.hideDeleteConfirmation(item);\r\n        };\r\n      }\r\n      \r\n      if (cancelBtn) {\r\n        cancelBtn.onclick = (e) => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          this.hideDeleteConfirmation(item);\r\n        };\r\n      }\r\n      \r\n      setTimeout(() => {\r\n        this.hideDeleteConfirmation(item);\r\n      }, 3000);\r\n    }\r\n  }\r\n\r\n  hideDeleteConfirmation(item) {\r\n    const confirmation = item.querySelector('.kt-delete-confirmation');\r\n    if (confirmation) {\r\n      confirmation.classList.add('hidden');\r\n    }\r\n    item.classList.remove('long-pressing');\r\n    \r\n    const state = this._touchStates.get(item);\r\n    if (state) {\r\n      if (state.timer) {\r\n        clearTimeout(state.timer);\r\n      }\r\n      state.isActive = false;\r\n      this._touchStates.delete(item);\r\n    }\r\n    \r\n    item.style.pointerEvents = 'none';\r\n    setTimeout(() => {\r\n      item.style.pointerEvents = '';\r\n    }, 200);\r\n  }\r\n\r\n  _hideAllDeleteConfirmations(exceptItem = null) {\r\n    const openConfirmations = this.shadowRoot.querySelectorAll('.kt-delete-confirmation:not(.hidden)');\r\n    \r\n    openConfirmations.forEach(confirmation => {\r\n      const parentItem = confirmation.closest('.kt-long-press-item');\r\n      if (parentItem && parentItem !== exceptItem) {\r\n        this.hideDeleteConfirmation(parentItem);\r\n      }\r\n    });\r\n  }\r\n\r\n  addSwipeListeners() {\r\n    if (this._swipeListenersAdded) return;\r\n    this._swipeListenersAdded = true;\r\n\r\n    const controller = new AbortController();\r\n    this._touchControllers.set('swipe', controller);\r\n    const signal = controller.signal;\r\n    \r\n    let startX = 0;\r\n    let startY = 0;\r\n    let currentX = 0;\r\n    let currentY = 0;\r\n    let isTracking = false;\r\n    let currentItem = null;\r\n\r\n    // Touch handlers for swipe gestures\r\n    const touchStart = (e) => {\r\n      const swipeableItem = e.target.closest('.kt-swipeable-item');\r\n      if (!swipeableItem) return;\r\n\r\n      currentItem = swipeableItem;\r\n      isTracking = true;\r\n      startX = e.touches[0].clientX;\r\n      startY = e.touches[0].clientY;\r\n      currentX = startX;\r\n      currentY = startY;\r\n    };\r\n\r\n    const touchMove = (e) => {\r\n      if (!isTracking || !currentItem) return;\r\n      \r\n      e.preventDefault();\r\n      currentX = e.touches[0].clientX;\r\n      currentY = e.touches[0].clientY;\r\n      \r\n      const deltaX = currentX - startX;\r\n      const deltaY = currentY - startY;\r\n      \r\n      if (Math.abs(deltaY) > Math.abs(deltaX)) {\r\n        isTracking = false;\r\n        currentItem = null;\r\n        return;\r\n      }\r\n      \r\n      if (Math.abs(deltaX) > 30) {\r\n        if (deltaX > 0) {\r\n          currentItem.classList.add('swiping-right');\r\n          currentItem.classList.remove('swiping-left');\r\n        } else {\r\n          currentItem.classList.add('swiping-left');\r\n          currentItem.classList.remove('swiping-right');\r\n        }\r\n      }\r\n    };\r\n\r\n    const touchEnd = (e) => {\r\n      if (!isTracking || !currentItem) return;\r\n      \r\n      const deltaX = currentX - startX;\r\n      \r\n      if (Math.abs(deltaX) > 80) {\r\n        if (deltaX > 0) {\r\n          this.handleSwipeRight(currentItem);\r\n        } else {\r\n          this.handleSwipeLeft(currentItem);\r\n        }\r\n      }\r\n      \r\n      setTimeout(() => {\r\n        if (currentItem) {\r\n          currentItem.classList.remove('swiping-left', 'swiping-right');\r\n        }\r\n      }, 300);\r\n      \r\n      isTracking = false;\r\n      currentItem = null;\r\n    };\r\n\r\n    this.shadowRoot.addEventListener('touchstart', touchStart, { signal, passive: true });\r\n    this.shadowRoot.addEventListener('touchmove', touchMove, { signal, passive: false });\r\n    this.shadowRoot.addEventListener('touchend', touchEnd, { signal, passive: true });\r\n  }\r\n\r\n  // Swipe handling methods (to be overridden by subclasses)\r\n  handleSwipeLeft(item) {\r\n    // Default implementation - override in subclasses\r\n  }\r\n\r\n  handleSwipeRight(item) {\r\n    // Default implementation - override in subclasses\r\n  }\r\n\r\n  // Utility methods\r\n  emptySection(icon, text, subtext) {\r\n    return typeof KidsTasksUtils !== 'undefined'\r\n      ? KidsTasksUtils.emptySection(icon, text, subtext)\r\n      : `\r\n          <div class=\"empty-state\">\r\n            <div class=\"empty-icon\">${icon}</div>\r\n            <div class=\"empty-text\">${text}</div>\r\n            <div class=\"empty-subtext\">${subtext}</div>\r\n          </div>\r\n        `;\r\n  }\r\n\r\n  renderIcon(iconData) {\r\n    return typeof KidsTasksUtils !== 'undefined'\r\n      ? KidsTasksUtils.renderIcon(iconData)\r\n      : (iconData || 'üìã');\r\n  }\r\n\r\n  getCategoryIcon(categoryOrItem) {\r\n    if (typeof KidsTasksUtils !== 'undefined') {\r\n      return KidsTasksUtils.getCategoryIcon(categoryOrItem, this.getDynamicIcons?.() || {}, this.getRewardIcons?.() || {});\r\n    }\r\n    return this.renderIcon('üìã');\r\n  }\r\n\r\n  // Common rendering methods\r\n  renderGauges(stats, includeCoins = false, completedToday, totalTasksToday) {\r\n    if (!stats) return '';\r\n    \r\n    const completed = completedToday !== undefined ? completedToday : (stats.completedToday || 0);\r\n    const total = totalTasksToday !== undefined ? totalTasksToday : (stats.totalTasksToday || 0);\r\n    \r\n    const renderGauge = (label, text, fillClass, width) => {\r\n      return `\r\n        <div class=\"gauge\">\r\n          <div class=\"gauge-header\">\r\n            <span class=\"gauge-label\">${label}</span>\r\n            <span class=\"gauge-value\">${text}</span>\r\n          </div>\r\n          <div class=\"gauge-bar\">\r\n            <div class=\"gauge-fill ${fillClass}\" style=\"width: ${width}%\"></div>\r\n          </div>\r\n        </div>\r\n      `;\r\n    };\r\n\r\n    const progressPercent = total > 0 ? Math.round((completed / total) * 100) : 0;\r\n    const progressGauge = renderGauge(\r\n      'T√¢ches du jour',\r\n      `${completed}/${total}`,\r\n      'tasks-fill',\r\n      progressPercent\r\n    );\r\n\r\n    if (!includeCoins) {\r\n      return progressGauge;\r\n    }\r\n\r\n    const points = stats.points || 0;\r\n    const coins = stats.coins || 0;\r\n    \r\n    const pointsGauge = renderGauge(\r\n      'Points',\r\n      `${points} üé´`,\r\n      'points-fill',\r\n      Math.min(100, points)\r\n    );\r\n\r\n    const coinsGauge = renderGauge(\r\n      'Pi√®ces',\r\n      `${coins} ü™ô`,\r\n      'coins-fill',\r\n      Math.min(100, coins * 2)\r\n    );\r\n\r\n    return `\r\n      <div class=\"gauges-container\">\r\n        ${progressGauge}\r\n        ${pointsGauge}\r\n        ${coinsGauge}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  // Abstract methods to be implemented by subclasses\r\n  shouldUpdate(oldHass, newHass) {\r\n    throw new Error('shouldUpdate must be implemented by subclass');\r\n  }\r\n\r\n  render() {\r\n    throw new Error('render must be implemented by subclass');\r\n  }\r\n\r\n  handleAction(action, id, event) {\r\n    throw new Error('handleAction must be implemented by subclass');\r\n  }\r\n\r\n  // Common data access methods (to be overridden)\r\n  getChildren() {\r\n    return [];\r\n  }\r\n\r\n  getTasks() {\r\n    return [];\r\n  }\r\n\r\n  getRewards() {\r\n    return [];\r\n  }\r\n\r\n  getDynamicIcons() {\r\n    return {};\r\n  }\r\n\r\n  getRewardIcons() {\r\n    return {};\r\n  }\r\n}\r\n\r\n// ES6 export\r\nexport { KidsTasksBaseCard };","// Kids Tasks Main Dashboard Card Component\r\n\r\nimport { KidsTasksBaseCard } from './base-card.js';\r\nimport { KidsTasksUtils } from './utils.js';\r\n\r\nclass KidsTasksCard extends KidsTasksBaseCard {\r\n  constructor() {\r\n    super();\r\n    this.currentView = 'dashboard';\r\n  }\r\n\r\n  setConfig(config) {\r\n    this.config = { \r\n      title: 'Kids Tasks Manager',\r\n      show_navigation: true,\r\n      show_completed: false,\r\n      show_rewards: true,\r\n      mode: 'dashboard',\r\n      ...config \r\n    };\r\n  }\r\n\r\n  shouldUpdate(oldHass, newHass) {\r\n    if (!oldHass) return true;\r\n    \r\n    // Quick check: compare entity counts for kids tasks\r\n    const oldTaskEntities = Object.keys(oldHass.states).filter(id => id.startsWith('sensor.kidtasks_'));\r\n    const newTaskEntities = Object.keys(newHass.states).filter(id => id.startsWith('sensor.kidtasks_'));\r\n    \r\n    if (oldTaskEntities.length !== newTaskEntities.length) return true;\r\n    \r\n    // Check for state changes in existing entities\r\n    for (const entityId of oldTaskEntities) {\r\n      const oldEntity = oldHass.states[entityId];\r\n      const newEntity = newHass.states[entityId];\r\n      if (!newEntity || oldEntity.state !== newEntity.state || \r\n          JSON.stringify(oldEntity.attributes) !== JSON.stringify(newEntity.attributes)) {\r\n        return true;\r\n      }\r\n    }\r\n    \r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    if (!this._hass) {\r\n      this.shadowRoot.innerHTML = '<div class=\"kt-loading\">Chargement...</div>';\r\n      return;\r\n    }\r\n\r\n    const children = this.getChildren();\r\n\r\n    this.shadowRoot.innerHTML = `\r\n      ${this.getStyles()}\r\n      <div class=\"card-content kids-tasks-card\">\r\n        <div class=\"card-header\">\r\n          <h2 class=\"card-title\">${this.config.title}</h2>\r\n          ${this.config.show_navigation ? this.renderNavigation() : ''}\r\n        </div>\r\n\r\n        <div class=\"main-content\">\r\n          ${this.renderCurrentView(children)}\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  getStyles() {\r\n    return `\r\n      <style>\r\n        :host {\r\n          display: block;\r\n          background: var(--card-background-color, white);\r\n          border-radius: var(--kt-radius-lg);\r\n          box-shadow: var(--box-shadow, 0 2px 8px var(--kt-shadow-light));\r\n          overflow: hidden;\r\n        }\r\n\r\n        .card-content {\r\n          padding: var(--kt-space-lg);\r\n        }\r\n\r\n        .card-header {\r\n          margin-bottom: var(--kt-space-lg);\r\n          padding-bottom: var(--kt-space-sm);\r\n          border-bottom: 2px solid var(--kt-surface-variant);\r\n        }\r\n\r\n        .card-title {\r\n          font-size: 1.5em;\r\n          font-weight: 700;\r\n          color: var(--primary-text-color);\r\n          margin: 0 0 var(--kt-space-sm) 0;\r\n        }\r\n\r\n        .navigation {\r\n          display: flex;\r\n          gap: var(--kt-space-sm);\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .nav-button {\r\n          background: var(--kt-surface-variant);\r\n          border: 2px solid transparent;\r\n          padding: var(--kt-space-xs) var(--kt-space-md);\r\n          border-radius: var(--kt-radius-sm);\r\n          cursor: pointer;\r\n          font-weight: 600;\r\n          font-size: 0.9em;\r\n          transition: all var(--kt-transition-fast);\r\n          color: var(--primary-text-color);\r\n        }\r\n\r\n        .nav-button.active {\r\n          border-color: var(--kt-primary);\r\n          background: var(--kt-primary);\r\n          color: white;\r\n        }\r\n\r\n        .nav-button:hover {\r\n          transform: translateY(-1px);\r\n          box-shadow: 0 2px 4px var(--kt-shadow-light);\r\n        }\r\n\r\n        .children-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\r\n          gap: var(--kt-space-lg);\r\n        }\r\n\r\n        .child-card {\r\n          background: var(--kt-surface-variant);\r\n          border-radius: var(--kt-radius-md);\r\n          padding: var(--kt-space-lg);\r\n          transition: all var(--kt-transition-fast);\r\n          cursor: pointer;\r\n        }\r\n\r\n        .child-card:hover {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 4px 12px var(--kt-shadow-medium);\r\n        }\r\n\r\n        .child-header {\r\n          text-align: center;\r\n          margin-bottom: var(--kt-space-md);\r\n        }\r\n\r\n        .child-avatar {\r\n          font-size: 3em;\r\n          margin-bottom: var(--kt-space-sm);\r\n        }\r\n\r\n        .child-name {\r\n          font-size: 1.2em;\r\n          font-weight: 600;\r\n          color: var(--primary-text-color);\r\n          margin-bottom: var(--kt-space-xs);\r\n        }\r\n\r\n        .child-stats {\r\n          display: flex;\r\n          gap: var(--kt-space-sm);\r\n          justify-content: center;\r\n          flex-wrap: wrap;\r\n          margin-bottom: var(--kt-space-md);\r\n        }\r\n\r\n        .stat {\r\n          background: var(--kt-primary);\r\n          color: white;\r\n          padding: 4px 8px;\r\n          border-radius: var(--kt-radius-sm);\r\n          font-size: 0.8em;\r\n          font-weight: 600;\r\n        }\r\n\r\n        .child-progress {\r\n          font-size: 0.9em;\r\n          color: var(--secondary-text-color);\r\n          text-align: center;\r\n          margin-bottom: var(--kt-space-md);\r\n        }\r\n\r\n        .progress-bar {\r\n          height: 4px;\r\n          background: var(--kt-surface-variant);\r\n          border-radius: var(--kt-radius-sm);\r\n          overflow: hidden;\r\n          margin-top: var(--kt-space-xs);\r\n        }\r\n\r\n        .progress-fill {\r\n          height: 100%;\r\n          background: linear-gradient(90deg, var(--kt-success) 0%, var(--kt-info) 100%);\r\n          transition: width var(--kt-transition-medium);\r\n        }\r\n\r\n        .child-actions {\r\n          text-align: center;\r\n        }\r\n\r\n        .action-button {\r\n          background: var(--kt-primary);\r\n          color: white;\r\n          border: none;\r\n          padding: var(--kt-space-sm) var(--kt-space-md);\r\n          border-radius: var(--kt-radius-sm);\r\n          cursor: pointer;\r\n          font-weight: 600;\r\n          font-size: 0.9em;\r\n          transition: all var(--kt-transition-fast);\r\n        }\r\n\r\n        .action-button:hover {\r\n          opacity: 0.9;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .summary-stats {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n          gap: var(--kt-space-md);\r\n          margin-bottom: var(--kt-space-lg);\r\n        }\r\n\r\n        .summary-card {\r\n          background: var(--kt-surface-variant);\r\n          padding: var(--kt-space-lg);\r\n          border-radius: var(--kt-radius-md);\r\n          text-align: center;\r\n        }\r\n\r\n        .summary-number {\r\n          font-size: 2em;\r\n          font-weight: 700;\r\n          color: var(--kt-primary);\r\n          margin-bottom: var(--kt-space-xs);\r\n        }\r\n\r\n        .summary-label {\r\n          font-size: 0.9em;\r\n          color: var(--secondary-text-color);\r\n          font-weight: 600;\r\n        }\r\n\r\n        /* Responsive design */\r\n        @media (max-width: 768px) {\r\n          .children-grid {\r\n            grid-template-columns: 1fr;\r\n          }\r\n          \r\n          .card-content {\r\n            padding: var(--kt-space-md);\r\n          }\r\n\r\n          .navigation {\r\n            justify-content: center;\r\n          }\r\n\r\n          .summary-stats {\r\n            grid-template-columns: repeat(2, 1fr);\r\n          }\r\n        }\r\n\r\n        @media (max-width: 480px) {\r\n          .child-stats {\r\n            flex-direction: column;\r\n            align-items: center;\r\n          }\r\n\r\n          .summary-stats {\r\n            grid-template-columns: 1fr;\r\n          }\r\n        }\r\n      </style>\r\n    `;\r\n  }\r\n\r\n  renderNavigation() {\r\n    const views = [\r\n      { id: 'dashboard', label: 'üè† Tableau de bord' },\r\n      { id: 'summary', label: 'üìä R√©sum√©' },\r\n      { id: 'management', label: '‚öôÔ∏è Gestion' }\r\n    ];\r\n\r\n    return `\r\n      <div class=\"navigation\">\r\n        ${views.map(view => `\r\n          <button \r\n            class=\"nav-button ${this.currentView === view.id ? 'active' : ''}\"\r\n            data-action=\"switch-view\"\r\n            data-id=\"${view.id}\"\r\n          >\r\n            ${view.label}\r\n          </button>\r\n        `).join('')}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  renderCurrentView(children) {\r\n    switch (this.currentView) {\r\n      case 'dashboard':\r\n        return this.renderDashboard(children);\r\n      case 'summary':\r\n        return this.renderSummary(children);\r\n      case 'management':\r\n        return this.renderManagement(children);\r\n      default:\r\n        return this.renderDashboard(children);\r\n    }\r\n  }\r\n\r\n  renderDashboard(children) {\r\n    if (children.length === 0) {\r\n      return this.emptySection(\r\n        'üë®‚Äçüë©‚Äçüëß‚Äçüë¶', \r\n        'Aucun enfant configur√©', \r\n        'Configurez des enfants dans l\\'int√©gration Kids Tasks Manager.'\r\n      );\r\n    }\r\n\r\n    return `\r\n      <div class=\"children-grid\">\r\n        ${children.map(child => this.renderChildCard(child)).join('')}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  renderSummary(children) {\r\n    const stats = this.calculateGlobalStats(children);\r\n    \r\n    return `\r\n      <div class=\"summary-stats\">\r\n        <div class=\"summary-card\">\r\n          <div class=\"summary-number\">${children.length}</div>\r\n          <div class=\"summary-label\">Enfants</div>\r\n        </div>\r\n        <div class=\"summary-card\">\r\n          <div class=\"summary-number\">${stats.totalTasks}</div>\r\n          <div class=\"summary-label\">T√¢ches actives</div>\r\n        </div>\r\n        <div class=\"summary-card\">\r\n          <div class=\"summary-number\">${stats.completedToday}</div>\r\n          <div class=\"summary-label\">Termin√©es aujourd'hui</div>\r\n        </div>\r\n        <div class=\"summary-card\">\r\n          <div class=\"summary-number\">${stats.totalPoints}</div>\r\n          <div class=\"summary-label\">Points totaux</div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"children-grid\">\r\n        ${children.map(child => this.renderChildSummary(child)).join('')}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  renderManagement(children) {\r\n    return `\r\n      <div class=\"management-content\">\r\n        ${this.emptySection('üöß', 'Gestion avanc√©e', 'Fonctionnalit√©s de gestion en cours de d√©veloppement.')}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  renderChildCard(child) {\r\n    const stats = this.getChildStats(child);\r\n    const progressPercent = stats.totalToday > 0 ? (stats.completedToday / stats.totalToday) * 100 : 0;\r\n    \r\n    return `\r\n      <div class=\"child-card kt-clickable\" data-action=\"view-child\" data-id=\"${child.id}\">\r\n        <div class=\"child-header\">\r\n          <div class=\"child-avatar\">${child.avatar || 'üë§'}</div>\r\n          <div class=\"child-name\">${child.name}</div>\r\n          <div class=\"child-stats\">\r\n            <span class=\"stat\">${child.points || 0} üé´</span>\r\n            <span class=\"stat\">${child.coins || 0} ü™ô</span>\r\n            <span class=\"stat\">Niv. ${child.level || 1}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"child-progress\">\r\n          Aujourd'hui: ${stats.completedToday}/${stats.totalToday} t√¢ches\r\n          <div class=\"progress-bar\">\r\n            <div class=\"progress-fill\" style=\"width: ${progressPercent}%\"></div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"child-actions\">\r\n          <button class=\"action-button\" data-action=\"view-child\" data-id=\"${child.id}\">\r\n            Voir les t√¢ches\r\n          </button>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  renderChildSummary(child) {\r\n    const stats = this.getChildStats(child);\r\n    \r\n    return `\r\n      <div class=\"child-card\">\r\n        <div class=\"child-header\">\r\n          <div class=\"child-avatar\">${child.avatar || 'üë§'}</div>\r\n          <div class=\"child-name\">${child.name}</div>\r\n        </div>\r\n        \r\n        <div class=\"child-summary-stats\">\r\n          <div class=\"summary-card\">\r\n            <div class=\"summary-number\">${stats.completedToday}</div>\r\n            <div class=\"summary-label\">T√¢ches termin√©es</div>\r\n          </div>\r\n          <div class=\"summary-card\">\r\n            <div class=\"summary-number\">${child.points || 0}</div>\r\n            <div class=\"summary-label\">Points</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  handleAction(action, id, event) {\r\n    switch (action) {\r\n      case 'switch-view':\r\n        this.currentView = id;\r\n        this.render();\r\n        break;\r\n      case 'view-child':\r\n        this.handleViewChild(id);\r\n        break;\r\n      default:\r\n        if (__DEV__) {\r\n          console.warn('Unknown action:', action);\r\n        }\r\n    }\r\n  }\r\n\r\n  handleViewChild(childId) {\r\n    // Create a dialog or navigate to child detail view\r\n    // For now, just log the action\r\n    console.info('View child details:', childId);\r\n    \r\n    // In a real implementation, you might:\r\n    // - Open a modal dialog with child details\r\n    // - Navigate to a child-specific view\r\n    // - Fire a custom event for the parent to handle\r\n    \r\n    const event = new CustomEvent('kids-tasks-view-child', {\r\n      detail: { childId },\r\n      bubbles: true\r\n    });\r\n    this.dispatchEvent(event);\r\n  }\r\n\r\n  // Data methods\r\n  getChildren() {\r\n    if (!this._hass) return [];\r\n    \r\n    const children = [];\r\n    Object.keys(this._hass.states).forEach(entityId => {\r\n      if (entityId.startsWith('sensor.kidtasks_') && entityId.endsWith('_points')) {\r\n        const entity = this._hass.states[entityId];\r\n        if (entity && entity.state !== 'unavailable') {\r\n          const childId = entityId.replace('sensor.kidtasks_', '').replace('_points', '');\r\n          children.push({\r\n            id: childId,\r\n            name: entity.attributes.friendly_name || childId,\r\n            points: parseInt(entity.state) || 0,\r\n            coins: entity.attributes.coins || 0,\r\n            level: entity.attributes.level || 1,\r\n            avatar: entity.attributes.avatar || entity.attributes.cosmetics?.avatar?.emoji || 'üë§',\r\n            ...entity.attributes\r\n          });\r\n        }\r\n      }\r\n    });\r\n    \r\n    return children.sort((a, b) => a.name.localeCompare(b.name));\r\n  }\r\n\r\n  getChildStats(child) {\r\n    const tasks = this.getChildTasks(child.id);\r\n    const today = new Date().toDateString();\r\n    \r\n    const completedToday = tasks.filter(t => \r\n      (t.status === 'completed' || t.status === 'validated') && \r\n      t.completed_at && new Date(t.completed_at).toDateString() === today\r\n    ).length;\r\n    \r\n    const totalToday = tasks.filter(t => t.status === 'todo').length;\r\n    \r\n    return {\r\n      completedToday,\r\n      totalToday,\r\n      totalTasks: tasks.length\r\n    };\r\n  }\r\n\r\n  getChildTasks(childId) {\r\n    if (!this._hass) return [];\r\n    \r\n    const taskEntities = Object.keys(this._hass.states)\r\n      .filter(id => id.startsWith('sensor.kidtasks_task_'))\r\n      .map(id => this._hass.states[id])\r\n      .filter(entity => entity.attributes && \r\n                      entity.attributes.assigned_children && \r\n                      entity.attributes.assigned_children.includes(childId));\r\n    \r\n    return taskEntities.map(entity => ({\r\n      id: entity.entity_id.replace('sensor.kidtasks_task_', ''),\r\n      name: entity.attributes.friendly_name || 'T√¢che',\r\n      status: entity.state,\r\n      completed_at: entity.attributes.completed_at,\r\n      ...entity.attributes\r\n    }));\r\n  }\r\n\r\n  calculateGlobalStats(children) {\r\n    let totalTasks = 0;\r\n    let completedToday = 0;\r\n    let totalPoints = 0;\r\n    \r\n    children.forEach(child => {\r\n      const stats = this.getChildStats(child);\r\n      totalTasks += stats.totalToday;\r\n      completedToday += stats.completedToday;\r\n      totalPoints += child.points || 0;\r\n    });\r\n    \r\n    return {\r\n      totalTasks,\r\n      completedToday,\r\n      totalPoints\r\n    };\r\n  }\r\n\r\n  // Configuration\r\n  static getConfigElement() {\r\n    return document.createElement('kids-tasks-card-editor');\r\n  }\r\n\r\n  static getStubConfig() {\r\n    return {\r\n      type: 'custom:kids-tasks-card',\r\n      title: 'Kids Tasks Manager',\r\n      show_navigation: true,\r\n      show_completed: false,\r\n      show_rewards: true,\r\n      mode: 'dashboard'\r\n    };\r\n  }\r\n}\r\n\r\nexport { KidsTasksCard };","// Kids Tasks Child Card - Individual child view component\r\n\r\nimport { KidsTasksBaseCard } from './base-card.js';\r\nimport { KidsTasksUtils } from './utils.js';\r\n\r\nclass KidsTasksChildCard extends KidsTasksBaseCard {\r\n  constructor() {\r\n    super();\r\n    this._refreshInterval = null;\r\n    this.currentTab = 'tasks';\r\n    this.tasksFilter = 'active';\r\n    this.rewardsFilter = 'all';\r\n  }\r\n\r\n  connectedCallback() {\r\n    // Auto-refresh every 5 seconds\r\n    this._refreshInterval = setInterval(() => {\r\n      if (this._hass && this._initialized) {\r\n        this.render();\r\n      }\r\n    }, 5000);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    if (this._refreshInterval) {\r\n      clearInterval(this._refreshInterval);\r\n      this._refreshInterval = null;\r\n    }\r\n  }\r\n\r\n  setConfig(config) {\r\n    if (!config || !config.child_id) {\r\n      throw new Error('Invalid configuration: child_id required');\r\n    }\r\n    \r\n    this.config = {\r\n      child_id: config.child_id,\r\n      title: config.title || 'Mes T√¢ches',\r\n      show_avatar: config.show_avatar !== false,\r\n      show_progress: config.show_progress !== false,\r\n      show_rewards: config.show_rewards !== false,\r\n      show_completed: config.show_completed !== false,\r\n      ...config\r\n    };\r\n    \r\n    if (this._initialized && this._hass) {\r\n      this.render();\r\n    }\r\n  }\r\n\r\n  shouldUpdate(oldHass, newHass) {\r\n    if (!oldHass) return true;\r\n    \r\n    // Check if child data changed\r\n    const childId = this.config.child_id;\r\n    const oldChild = this.getChildFromHass(oldHass, childId);\r\n    const newChild = this.getChildFromHass(newHass, childId);\r\n    \r\n    if (JSON.stringify(oldChild) !== JSON.stringify(newChild)) {\r\n      return true;\r\n    }\r\n    \r\n    // Check tasks and rewards\r\n    const taskEntities = Object.keys(newHass.states).filter(id => id.startsWith('sensor.kidtasks_task_'));\r\n    const rewardEntities = Object.keys(newHass.states).filter(id => id.startsWith('sensor.kidtasks_reward_'));\r\n    \r\n    for (const entityId of [...taskEntities, ...rewardEntities]) {\r\n      const oldEntity = oldHass.states[entityId];\r\n      const newEntity = newHass.states[entityId];\r\n      if (!oldEntity || !newEntity || \r\n          oldEntity.state !== newEntity.state || \r\n          JSON.stringify(oldEntity.attributes) !== JSON.stringify(newEntity.attributes)) {\r\n        return true;\r\n      }\r\n    }\r\n    \r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    if (!this._hass || !this.config) {\r\n      this.shadowRoot.innerHTML = '<div class=\"loading\">Chargement...</div>';\r\n      return;\r\n    }\r\n\r\n    const child = this.getChild();\r\n    if (!child) {\r\n      this.shadowRoot.innerHTML = `\r\n        ${this.getStyles()}\r\n        <div class=\"error\">\r\n          Enfant non trouv√© (ID: ${this.config.child_id})\r\n        </div>\r\n      `;\r\n      return;\r\n    }\r\n\r\n    try {\r\n      this.shadowRoot.innerHTML = `\r\n        ${this.getStyles()}\r\n        <div class=\"child-card-container\">\r\n          ${this.renderHeader(child)}\r\n          ${this.renderTabs()}\r\n          ${this.renderTabContent(child)}\r\n        </div>\r\n      `;\r\n    } catch (error) {\r\n      console.error('Error rendering child card:', error);\r\n      this.shadowRoot.innerHTML = `\r\n        ${this.getStyles()}\r\n        <div class=\"error\">Erreur: ${error.message}</div>\r\n      `;\r\n    }\r\n  }\r\n\r\n  getStyles() {\r\n    return `\r\n      <style>\r\n        :host {\r\n          display: block;\r\n          background: var(--card-background-color, white);\r\n          border-radius: var(--kt-radius-lg);\r\n          overflow: hidden;\r\n          box-shadow: var(--box-shadow, 0 2px 8px rgba(0,0,0,0.1));\r\n        }\r\n\r\n        .child-card-container {\r\n          padding: var(--kt-space-lg);\r\n        }\r\n\r\n        .child-header {\r\n          text-align: center;\r\n          margin-bottom: var(--kt-space-lg);\r\n          padding: var(--kt-space-lg);\r\n          background: var(--kt-surface-variant);\r\n          border-radius: var(--kt-radius-md);\r\n        }\r\n\r\n        .child-avatar {\r\n          font-size: 4em;\r\n          margin-bottom: var(--kt-space-sm);\r\n        }\r\n\r\n        .child-name {\r\n          font-size: 1.5em;\r\n          font-weight: 700;\r\n          color: var(--primary-text-color);\r\n          margin-bottom: var(--kt-space-sm);\r\n        }\r\n\r\n        .child-stats {\r\n          display: flex;\r\n          gap: var(--kt-space-md);\r\n          justify-content: center;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .stat {\r\n          background: var(--kt-primary);\r\n          color: white;\r\n          padding: var(--kt-space-xs) var(--kt-space-md);\r\n          border-radius: var(--kt-radius-sm);\r\n          font-weight: 600;\r\n          font-size: 0.9em;\r\n        }\r\n\r\n        .tabs {\r\n          display: flex;\r\n          border-bottom: 2px solid var(--kt-surface-variant);\r\n          margin-bottom: var(--kt-space-lg);\r\n          gap: var(--kt-space-sm);\r\n        }\r\n\r\n        .tab-button {\r\n          background: none;\r\n          border: none;\r\n          padding: var(--kt-space-sm) var(--kt-space-md);\r\n          border-radius: var(--kt-radius-sm) var(--kt-radius-sm) 0 0;\r\n          cursor: pointer;\r\n          font-weight: 600;\r\n          transition: all var(--kt-transition-fast);\r\n          color: var(--secondary-text-color);\r\n        }\r\n\r\n        .tab-button.active {\r\n          background: var(--kt-primary);\r\n          color: white;\r\n        }\r\n\r\n        .tab-button:hover {\r\n          background: var(--kt-surface-variant);\r\n        }\r\n\r\n        .tab-button.active:hover {\r\n          background: var(--kt-primary);\r\n          opacity: 0.9;\r\n        }\r\n\r\n        .tab-content {\r\n          min-height: 200px;\r\n        }\r\n\r\n        .task-list, .reward-list {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: var(--kt-space-sm);\r\n        }\r\n\r\n        .task-item, .reward-item {\r\n          background: var(--kt-surface-variant);\r\n          border-radius: var(--kt-radius-md);\r\n          padding: var(--kt-space-md);\r\n          transition: all var(--kt-transition-fast);\r\n          cursor: pointer;\r\n        }\r\n\r\n        .task-item:hover, .reward-item:hover {\r\n          transform: translateY(-1px);\r\n          box-shadow: 0 2px 8px var(--kt-shadow-light);\r\n        }\r\n\r\n        .task-title, .reward-title {\r\n          font-weight: 600;\r\n          margin-bottom: var(--kt-space-xs);\r\n        }\r\n\r\n        .task-description, .reward-description {\r\n          font-size: 0.9em;\r\n          color: var(--secondary-text-color);\r\n          margin-bottom: var(--kt-space-sm);\r\n        }\r\n\r\n        .task-meta, .reward-meta {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          font-size: 0.8em;\r\n        }\r\n\r\n        .task-points, .reward-cost {\r\n          background: var(--kt-success);\r\n          color: white;\r\n          padding: 2px 8px;\r\n          border-radius: var(--kt-radius-sm);\r\n          font-weight: 600;\r\n        }\r\n\r\n        .task-status {\r\n          padding: 2px 8px;\r\n          border-radius: var(--kt-radius-sm);\r\n          font-weight: 600;\r\n          text-transform: uppercase;\r\n          font-size: 0.7em;\r\n        }\r\n\r\n        .task-status.todo { background: var(--kt-warning); color: white; }\r\n        .task-status.completed { background: var(--kt-success); color: white; }\r\n        .task-status.pending { background: var(--kt-info); color: white; }\r\n        .task-status.validated { background: var(--kt-success); color: white; }\r\n\r\n        .filters {\r\n          display: flex;\r\n          gap: var(--kt-space-sm);\r\n          margin-bottom: var(--kt-space-lg);\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .filter-btn {\r\n          background: var(--kt-surface-variant);\r\n          border: 2px solid transparent;\r\n          padding: var(--kt-space-xs) var(--kt-space-md);\r\n          border-radius: var(--kt-radius-sm);\r\n          cursor: pointer;\r\n          font-weight: 600;\r\n          transition: all var(--kt-transition-fast);\r\n          font-size: 0.85em;\r\n        }\r\n\r\n        .filter-btn.active {\r\n          border-color: var(--kt-primary);\r\n          background: var(--kt-primary);\r\n          color: white;\r\n        }\r\n\r\n        .loading {\r\n          text-align: center;\r\n          padding: var(--kt-space-xl);\r\n          color: var(--secondary-text-color);\r\n        }\r\n\r\n        .error {\r\n          background: var(--kt-error);\r\n          color: white;\r\n          padding: var(--kt-space-md);\r\n          border-radius: var(--kt-radius-md);\r\n          text-align: center;\r\n        }\r\n\r\n        .empty-state {\r\n          text-align: center;\r\n          padding: var(--kt-space-xl);\r\n          color: var(--secondary-text-color);\r\n        }\r\n\r\n        .empty-icon {\r\n          font-size: 3em;\r\n          margin-bottom: var(--kt-space-md);\r\n          opacity: 0.6;\r\n        }\r\n\r\n        /* Progress gauges */\r\n        .progress-section {\r\n          margin-bottom: var(--kt-space-lg);\r\n        }\r\n\r\n        .gauge {\r\n          margin-bottom: var(--kt-space-md);\r\n        }\r\n\r\n        .gauge-header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-bottom: var(--kt-space-xs);\r\n        }\r\n\r\n        .gauge-label {\r\n          font-weight: 600;\r\n          color: var(--primary-text-color);\r\n        }\r\n\r\n        .gauge-value {\r\n          font-weight: 700;\r\n          color: var(--kt-primary);\r\n        }\r\n\r\n        .gauge-bar {\r\n          height: 8px;\r\n          background: var(--kt-surface-variant);\r\n          border-radius: var(--kt-radius-sm);\r\n          overflow: hidden;\r\n        }\r\n\r\n        .gauge-fill {\r\n          height: 100%;\r\n          transition: width var(--kt-transition-medium);\r\n          border-radius: var(--kt-radius-sm);\r\n        }\r\n\r\n        .gauge-fill.tasks-fill {\r\n          background: linear-gradient(90deg, var(--kt-success) 0%, var(--kt-info) 100%);\r\n        }\r\n\r\n        .gauge-fill.points-fill {\r\n          background: var(--kt-success);\r\n        }\r\n\r\n        .gauge-fill.coins-fill {\r\n          background: var(--kt-coins-color);\r\n        }\r\n\r\n        /* Responsive */\r\n        @media (max-width: 768px) {\r\n          .child-card-container {\r\n            padding: var(--kt-space-md);\r\n          }\r\n          \r\n          .tabs {\r\n            flex-wrap: wrap;\r\n          }\r\n          \r\n          .child-stats {\r\n            justify-content: center;\r\n          }\r\n        }\r\n      </style>\r\n    `;\r\n  }\r\n\r\n  renderHeader(child) {\r\n    if (!this.config.show_avatar) return '';\r\n\r\n    const stats = this.getChildStats(child);\r\n    \r\n    return `\r\n      <div class=\"child-header\">\r\n        <div class=\"child-avatar\">${this.getAvatar(child)}</div>\r\n        <div class=\"child-name\">${child.name}</div>\r\n        <div class=\"child-stats\">\r\n          <span class=\"stat\">${child.points || 0} üé´ Points</span>\r\n          <span class=\"stat\">${child.coins || 0} ü™ô Pi√®ces</span>\r\n          <span class=\"stat\">Niveau ${child.level || 1}</span>\r\n        </div>\r\n        ${this.config.show_progress ? this.renderProgress(stats) : ''}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  renderProgress(stats) {\r\n    return `\r\n      <div class=\"progress-section\">\r\n        ${this.renderGauges(stats, true, stats.completedToday, stats.totalTasksToday)}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  renderTabs() {\r\n    const tabs = [\r\n      { id: 'tasks', label: '‚úÖ T√¢ches', show: true },\r\n      { id: 'rewards', label: 'üéÅ R√©compenses', show: this.config.show_rewards },\r\n      { id: 'history', label: 'üìà Historique', show: this.config.show_completed }\r\n    ].filter(tab => tab.show);\r\n\r\n    return `\r\n      <div class=\"tabs\">\r\n        ${tabs.map(tab => `\r\n          <button \r\n            class=\"tab-button ${this.currentTab === tab.id ? 'active' : ''}\"\r\n            data-action=\"switch-tab\"\r\n            data-id=\"${tab.id}\"\r\n          >\r\n            ${tab.label}\r\n          </button>\r\n        `).join('')}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  renderTabContent(child) {\r\n    switch (this.currentTab) {\r\n      case 'tasks':\r\n        return this.renderTasksTab(child);\r\n      case 'rewards':\r\n        return this.renderRewardsTab(child);\r\n      case 'history':\r\n        return this.renderHistoryTab(child);\r\n      default:\r\n        return this.renderTasksTab(child);\r\n    }\r\n  }\r\n\r\n  renderTasksTab(child) {\r\n    const tasks = this.getChildTasks(child.id);\r\n    const filteredTasks = this.filterTasks(tasks);\r\n\r\n    return `\r\n      <div class=\"tab-content\">\r\n        ${this.renderTaskFilters()}\r\n        ${filteredTasks.length > 0 ? `\r\n          <div class=\"task-list\">\r\n            ${filteredTasks.map(task => this.renderTaskItem(task)).join('')}\r\n          </div>\r\n        ` : this.emptySection('üìù', 'Aucune t√¢che', 'Aucune t√¢che disponible pour ce filtre.')}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  renderTaskFilters() {\r\n    const filters = [\r\n      { id: 'active', label: 'Actives' },\r\n      { id: 'completed', label: 'Termin√©es' },\r\n      { id: 'all', label: 'Toutes' }\r\n    ];\r\n\r\n    return `\r\n      <div class=\"filters\">\r\n        ${filters.map(filter => `\r\n          <button \r\n            class=\"filter-btn ${this.tasksFilter === filter.id ? 'active' : ''}\"\r\n            data-action=\"filter-tasks\"\r\n            data-filter=\"${filter.id}\"\r\n          >\r\n            ${filter.label}\r\n          </button>\r\n        `).join('')}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  renderTaskItem(task) {\r\n    return `\r\n      <div class=\"task-item kt-clickable-item\" data-action=\"complete-task\" data-id=\"${task.id}\">\r\n        <div class=\"task-title\">${this.getCategoryIcon(task)} ${task.name}</div>\r\n        <div class=\"task-description\">${task.description || ''}</div>\r\n        <div class=\"task-meta\">\r\n          <span class=\"task-points\">+${task.points || 0} üé´</span>\r\n          <span class=\"task-status ${task.status}\">${task.status}</span>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  renderRewardsTab(child) {\r\n    const rewards = this.getRewards().filter(r => (r.min_level || 1) <= (child.level || 1));\r\n    const affordableRewards = rewards.filter(r => \r\n      (r.cost <= child.points) && (r.coin_cost <= child.coins)\r\n    );\r\n\r\n    return `\r\n      <div class=\"tab-content\">\r\n        ${affordableRewards.length > 0 ? `\r\n          <div class=\"reward-list\">\r\n            ${affordableRewards.map(reward => this.renderRewardItem(reward, child)).join('')}\r\n          </div>\r\n        ` : this.emptySection('üéÅ', 'Aucune r√©compense', 'Aucune r√©compense disponible pour le moment.')}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  renderRewardItem(reward, child) {\r\n    const canAfford = (reward.cost <= child.points) && (reward.coin_cost <= child.coins);\r\n    \r\n    return `\r\n      <div class=\"reward-item kt-clickable-item ${canAfford ? '' : 'disabled'}\" \r\n           data-action=\"claim-reward\" \r\n           data-id=\"${reward.id}\">\r\n        <div class=\"reward-title\">${this.getCategoryIcon(reward)} ${reward.name}</div>\r\n        <div class=\"reward-description\">${reward.description || ''}</div>\r\n        <div class=\"reward-meta\">\r\n          <span class=\"reward-cost\">\r\n            ${reward.cost > 0 ? `${reward.cost} üé´` : ''}\r\n            ${reward.coin_cost > 0 ? ` ${reward.coin_cost} ü™ô` : ''}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  renderHistoryTab(child) {\r\n    return `\r\n      <div class=\"tab-content\">\r\n        <div class=\"empty-state\">\r\n          <div class=\"empty-icon\">üìà</div>\r\n          <div class=\"empty-text\">Historique</div>\r\n          <div class=\"empty-subtext\">Fonctionnalit√© en d√©veloppement</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  handleAction(action, id, event) {\r\n    switch (action) {\r\n      case 'switch-tab':\r\n        this.currentTab = id;\r\n        this.render();\r\n        break;\r\n      case 'filter-tasks':\r\n        this.tasksFilter = id;\r\n        this.render();\r\n        break;\r\n      case 'complete-task':\r\n        this.completeTask(id);\r\n        break;\r\n      case 'claim-reward':\r\n        this.claimReward(id);\r\n        break;\r\n      default:\r\n        console.warn('Unknown action:', action);\r\n    }\r\n  }\r\n\r\n  filterTasks(tasks) {\r\n    switch (this.tasksFilter) {\r\n      case 'active':\r\n        return tasks.filter(t => t.status === 'todo' || t.status === 'pending');\r\n      case 'completed':\r\n        return tasks.filter(t => t.status === 'completed' || t.status === 'validated');\r\n      default:\r\n        return tasks;\r\n    }\r\n  }\r\n\r\n  async completeTask(taskId) {\r\n    try {\r\n      await this._hass.callService('kids_tasks', 'complete_task', {\r\n        task_id: taskId,\r\n        child_id: this.config.child_id\r\n      });\r\n    } catch (error) {\r\n      console.error('Error completing task:', error);\r\n    }\r\n  }\r\n\r\n  async claimReward(rewardId) {\r\n    try {\r\n      await this._hass.callService('kids_tasks', 'claim_reward', {\r\n        reward_id: rewardId,\r\n        child_id: this.config.child_id\r\n      });\r\n    } catch (error) {\r\n      console.error('Error claiming reward:', error);\r\n    }\r\n  }\r\n\r\n  // Data access methods\r\n  getChild() {\r\n    const childId = this.config.child_id;\r\n    return this.getChildFromHass(this._hass, childId);\r\n  }\r\n\r\n  getChildFromHass(hass, childId) {\r\n    const pointsEntityId = `sensor.kidtasks_${childId}_points`;\r\n    const entity = hass.states[pointsEntityId];\r\n    \r\n    if (!entity) return null;\r\n    \r\n    return {\r\n      id: childId,\r\n      name: entity.attributes.friendly_name || childId,\r\n      points: parseInt(entity.state) || 0,\r\n      coins: entity.attributes.coins || 0,\r\n      level: entity.attributes.level || 1,\r\n      ...entity.attributes\r\n    };\r\n  }\r\n\r\n  getChildTasks(childId) {\r\n    if (!this._hass) return [];\r\n    \r\n    const taskEntities = Object.keys(this._hass.states)\r\n      .filter(id => id.startsWith('sensor.kidtasks_task_'))\r\n      .map(id => this._hass.states[id])\r\n      .filter(entity => entity.attributes && \r\n                      entity.attributes.assigned_children && \r\n                      entity.attributes.assigned_children.includes(childId));\r\n    \r\n    return taskEntities.map(entity => ({\r\n      id: entity.entity_id.replace('sensor.kidtasks_task_', ''),\r\n      name: entity.attributes.friendly_name || 'T√¢che',\r\n      description: entity.attributes.description,\r\n      status: entity.state,\r\n      points: entity.attributes.points || 0,\r\n      category: entity.attributes.category,\r\n      icon: entity.attributes.icon,\r\n      ...entity.attributes\r\n    }));\r\n  }\r\n\r\n  getRewards() {\r\n    if (!this._hass) return [];\r\n    \r\n    const rewardEntities = Object.keys(this._hass.states)\r\n      .filter(id => id.startsWith('sensor.kidtasks_reward_'))\r\n      .map(id => this._hass.states[id]);\r\n    \r\n    return rewardEntities.map(entity => ({\r\n      id: entity.entity_id.replace('sensor.kidtasks_reward_', ''),\r\n      name: entity.attributes.friendly_name || 'R√©compense',\r\n      description: entity.attributes.description,\r\n      cost: entity.attributes.cost || 0,\r\n      coin_cost: entity.attributes.coin_cost || 0,\r\n      min_level: entity.attributes.min_level || 1,\r\n      category: entity.attributes.category,\r\n      icon: entity.attributes.icon,\r\n      ...entity.attributes\r\n    }));\r\n  }\r\n\r\n  getChildStats(child) {\r\n    const tasks = this.getChildTasks(child.id);\r\n    const completedToday = tasks.filter(t => \r\n      (t.status === 'completed' || t.status === 'validated') && \r\n      this.isToday(t.completed_at)\r\n    ).length;\r\n    const totalToday = tasks.filter(t => t.status === 'todo').length;\r\n    \r\n    return {\r\n      completedToday,\r\n      totalTasksToday: totalToday,\r\n      points: child.points || 0,\r\n      coins: child.coins || 0\r\n    };\r\n  }\r\n\r\n  getAvatar(child) {\r\n    return child.avatar || child.cosmetics?.avatar?.emoji || 'üë§';\r\n  }\r\n\r\n  isToday(dateString) {\r\n    if (!dateString) return false;\r\n    const today = new Date().toDateString();\r\n    return new Date(dateString).toDateString() === today;\r\n  }\r\n\r\n  // Configuration\r\n  static getConfigElement() {\r\n    return document.createElement('kids-tasks-child-card-editor');\r\n  }\r\n\r\n  static getStubConfig() {\r\n    return {\r\n      type: 'custom:kids-tasks-child-card',\r\n      child_id: 'child1',\r\n      title: 'Mes T√¢ches',\r\n      show_avatar: true,\r\n      show_progress: true,\r\n      show_rewards: true,\r\n      show_completed: true\r\n    };\r\n  }\r\n}\r\n\r\n// ES6 export\r\nexport { KidsTasksChildCard };","// Kids Tasks Card Editors - Configuration UI components\r\n\r\nclass KidsTasksBaseCardEditor extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this._config = {};\r\n    this._rendered = false;\r\n    this._hass = null;\r\n  }\r\n\r\n  setConfig(config) {\r\n    this._config = { ...config };\r\n    this._fireConfigChanged();\r\n  }\r\n\r\n  set hass(hass) {\r\n    this._hass = hass;\r\n    if (!this._rendered) {\r\n      this._render();\r\n      this._rendered = true;\r\n    }\r\n  }\r\n\r\n  _render() {\r\n    this.innerHTML = `\r\n      <div class=\"card-config\">\r\n        <div class=\"option\">\r\n          <label>Titre de la carte</label>\r\n          <input \r\n            type=\"text\" \r\n            class=\"title-input\"\r\n            value=\"${this._config.title || ''}\"\r\n            placeholder=\"Gestionnaire de T√¢ches Enfants\"\r\n          >\r\n        </div>\r\n        <div class=\"option\">\r\n          <label>\r\n            <input \r\n              type=\"checkbox\" \r\n              class=\"navigation-toggle\"\r\n              ${this._config.show_navigation !== false ? 'checked' : ''}\r\n            >\r\n            Afficher la navigation\r\n          </label>\r\n        </div>\r\n        ${this._renderSpecificOptions()}\r\n      </div>\r\n      <style>\r\n        .card-config {\r\n          padding: 16px;\r\n          font-family: var(--paper-font-body1_-_font-family, 'Roboto', sans-serif);\r\n        }\r\n        \r\n        .option {\r\n          margin-bottom: 16px;\r\n        }\r\n        \r\n        .option label {\r\n          display: block;\r\n          margin-bottom: 4px;\r\n          font-weight: 500;\r\n          color: var(--primary-text-color);\r\n        }\r\n        \r\n        .option input[type=\"text\"],\r\n        .option input[type=\"number\"],\r\n        .option select {\r\n          width: 100%;\r\n          padding: 8px 12px;\r\n          border: 1px solid var(--divider-color);\r\n          border-radius: 4px;\r\n          background: var(--card-background-color);\r\n          color: var(--primary-text-color);\r\n          font-size: 14px;\r\n        }\r\n        \r\n        .option input[type=\"checkbox\"] {\r\n          margin-right: 8px;\r\n        }\r\n        \r\n        .option label:has(input[type=\"checkbox\"]) {\r\n          display: flex;\r\n          align-items: center;\r\n          cursor: pointer;\r\n        }\r\n        \r\n        .help-text {\r\n          font-size: 12px;\r\n          color: var(--secondary-text-color);\r\n          margin-top: 4px;\r\n        }\r\n        \r\n        .section-title {\r\n          font-size: 16px;\r\n          font-weight: 600;\r\n          margin: 24px 0 12px 0;\r\n          color: var(--primary-text-color);\r\n          border-bottom: 1px solid var(--divider-color);\r\n          padding-bottom: 4px;\r\n        }\r\n      </style>\r\n    `;\r\n\r\n    this._attachListeners();\r\n  }\r\n\r\n  _renderSpecificOptions() {\r\n    // To be overridden by subclasses\r\n    return '';\r\n  }\r\n\r\n  _attachListeners() {\r\n    const titleInput = this.querySelector('.title-input');\r\n    const navToggle = this.querySelector('.navigation-toggle');\r\n\r\n    if (titleInput) {\r\n      titleInput.addEventListener('input', (e) => {\r\n        this._config.title = e.target.value;\r\n        this._fireConfigChanged();\r\n      });\r\n    }\r\n\r\n    if (navToggle) {\r\n      navToggle.addEventListener('change', (e) => {\r\n        this._config.show_navigation = e.target.checked;\r\n        this._fireConfigChanged();\r\n      });\r\n    }\r\n\r\n    this._attachSpecificListeners();\r\n  }\r\n\r\n  _attachSpecificListeners() {\r\n    // To be overridden by subclasses\r\n  }\r\n\r\n  _fireConfigChanged() {\r\n    const event = new CustomEvent('config-changed', {\r\n      detail: { config: this._config },\r\n      bubbles: true,\r\n      composed: true\r\n    });\r\n    this.dispatchEvent(event);\r\n  }\r\n}\r\n\r\nclass KidsTasksCardEditor extends KidsTasksBaseCardEditor {\r\n  _renderSpecificOptions() {\r\n    return `\r\n      <div class=\"section-title\">Options d'affichage</div>\r\n      <div class=\"option\">\r\n        <label>Mode d'affichage</label>\r\n        <select class=\"mode-select\">\r\n          <option value=\"dashboard\" ${this._config.mode === 'dashboard' ? 'selected' : ''}>\r\n            Tableau de bord\r\n          </option>\r\n          <option value=\"compact\" ${this._config.mode === 'compact' ? 'selected' : ''}>\r\n            Vue compacte\r\n          </option>\r\n        </select>\r\n      </div>\r\n      <div class=\"option\">\r\n        <label>\r\n          <input \r\n            type=\"checkbox\" \r\n            class=\"show-completed-toggle\"\r\n            ${this._config.show_completed !== false ? 'checked' : ''}\r\n          >\r\n          Afficher les t√¢ches termin√©es\r\n        </label>\r\n      </div>\r\n      <div class=\"option\">\r\n        <label>\r\n          <input \r\n            type=\"checkbox\" \r\n            class=\"show-rewards-toggle\"\r\n            ${this._config.show_rewards !== false ? 'checked' : ''}\r\n          >\r\n          Afficher les r√©compenses\r\n        </label>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  _attachSpecificListeners() {\r\n    const modeSelect = this.querySelector('.mode-select');\r\n    const completedToggle = this.querySelector('.show-completed-toggle');\r\n    const rewardsToggle = this.querySelector('.show-rewards-toggle');\r\n\r\n    if (modeSelect) {\r\n      modeSelect.addEventListener('change', (e) => {\r\n        this._config.mode = e.target.value;\r\n        this._fireConfigChanged();\r\n      });\r\n    }\r\n\r\n    if (completedToggle) {\r\n      completedToggle.addEventListener('change', (e) => {\r\n        this._config.show_completed = e.target.checked;\r\n        this._fireConfigChanged();\r\n      });\r\n    }\r\n\r\n    if (rewardsToggle) {\r\n      rewardsToggle.addEventListener('change', (e) => {\r\n        this._config.show_rewards = e.target.checked;\r\n        this._fireConfigChanged();\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nclass KidsTasksChildCardEditor extends KidsTasksBaseCardEditor {\r\n  _renderSpecificOptions() {\r\n    const children = this._getChildren();\r\n    \r\n    return `\r\n      <div class=\"section-title\">Configuration de l'enfant</div>\r\n      <div class=\"option\">\r\n        <label>S√©lectionner un enfant</label>\r\n        <select class=\"child-select\" required>\r\n          <option value=\"\">-- Choisir un enfant --</option>\r\n          ${children.map(child => `\r\n            <option value=\"${child.id}\" ${this._config.child_id === child.id ? 'selected' : ''}>\r\n              ${child.name}\r\n            </option>\r\n          `).join('')}\r\n        </select>\r\n        <div class=\"help-text\">\r\n          Si aucun enfant n'appara√Æt, assurez-vous que l'int√©gration Kids Tasks Manager est configur√©e.\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"section-title\">Options d'affichage</div>\r\n      <div class=\"option\">\r\n        <label>\r\n          <input \r\n            type=\"checkbox\" \r\n            class=\"show-avatar-toggle\"\r\n            ${this._config.show_avatar !== false ? 'checked' : ''}\r\n          >\r\n          Afficher l'avatar et les informations\r\n        </label>\r\n      </div>\r\n      <div class=\"option\">\r\n        <label>\r\n          <input \r\n            type=\"checkbox\" \r\n            class=\"show-progress-toggle\"\r\n            ${this._config.show_progress !== false ? 'checked' : ''}\r\n          >\r\n          Afficher les barres de progression\r\n        </label>\r\n      </div>\r\n      <div class=\"option\">\r\n        <label>\r\n          <input \r\n            type=\"checkbox\" \r\n            class=\"show-rewards-toggle\"\r\n            ${this._config.show_rewards !== false ? 'checked' : ''}\r\n          >\r\n          Afficher l'onglet r√©compenses\r\n        </label>\r\n      </div>\r\n      <div class=\"option\">\r\n        <label>\r\n          <input \r\n            type=\"checkbox\" \r\n            class=\"show-completed-toggle\"\r\n            ${this._config.show_completed !== false ? 'checked' : ''}\r\n          >\r\n          Afficher l'onglet historique\r\n        </label>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  _attachSpecificListeners() {\r\n    const childSelect = this.querySelector('.child-select');\r\n    const avatarToggle = this.querySelector('.show-avatar-toggle');\r\n    const progressToggle = this.querySelector('.show-progress-toggle');\r\n    const rewardsToggle = this.querySelector('.show-rewards-toggle');\r\n    const completedToggle = this.querySelector('.show-completed-toggle');\r\n\r\n    if (childSelect) {\r\n      childSelect.addEventListener('change', (e) => {\r\n        this._config.child_id = e.target.value;\r\n        this._fireConfigChanged();\r\n      });\r\n    }\r\n\r\n    if (avatarToggle) {\r\n      avatarToggle.addEventListener('change', (e) => {\r\n        this._config.show_avatar = e.target.checked;\r\n        this._fireConfigChanged();\r\n      });\r\n    }\r\n\r\n    if (progressToggle) {\r\n      progressToggle.addEventListener('change', (e) => {\r\n        this._config.show_progress = e.target.checked;\r\n        this._fireConfigChanged();\r\n      });\r\n    }\r\n\r\n    if (rewardsToggle) {\r\n      rewardsToggle.addEventListener('change', (e) => {\r\n        this._config.show_rewards = e.target.checked;\r\n        this._fireConfigChanged();\r\n      });\r\n    }\r\n\r\n    if (completedToggle) {\r\n      completedToggle.addEventListener('change', (e) => {\r\n        this._config.show_completed = e.target.checked;\r\n        this._fireConfigChanged();\r\n      });\r\n    }\r\n  }\r\n\r\n  _getChildren() {\r\n    if (!this._hass) return [];\r\n    \r\n    const children = [];\r\n    const entities = this._hass.states;\r\n    \r\n    Object.keys(entities).forEach(entityId => {\r\n      if (entityId.startsWith('sensor.kidtasks_') && entityId.endsWith('_points')) {\r\n        const pointsEntity = entities[entityId];\r\n        if (pointsEntity && pointsEntity.attributes && pointsEntity.state !== 'unavailable') {\r\n          children.push({\r\n            id: pointsEntity.attributes.child_id || entityId.replace('sensor.kidtasks_', '').replace('_points', ''),\r\n            name: pointsEntity.attributes.friendly_name || entityId.replace('sensor.kidtasks_', '').replace('_points', '')\r\n          });\r\n        }\r\n      }\r\n    });\r\n    \r\n    return children;\r\n  }\r\n}\r\n\r\n// ES6 exports\r\nexport {\r\n  KidsTasksBaseCardEditor,\r\n  KidsTasksCardEditor,\r\n  KidsTasksChildCardEditor\r\n};","// Kids Tasks Card v2.0 - Main Entry Point\r\n// This file imports all modular components and registers them with Home Assistant\r\n\r\nimport { KidsTasksStyleManager } from './style-manager.js';\r\nimport { KidsTasksUtils } from './utils.js';\r\nimport { KidsTasksBaseCard } from './base-card.js';\r\nimport { KidsTasksCard } from './card.js';\r\nimport { KidsTasksChildCard } from './child-card.js';\r\nimport { \r\n  KidsTasksCardEditor, \r\n  KidsTasksChildCardEditor \r\n} from './editors.js';\r\n\r\n// Development logging\r\nif (__DEV__) {\r\n  console.info('üõ†Ô∏è Kids Tasks Card - Development Mode');\r\n  console.info('üì¶ Loading modular components...');\r\n}\r\n\r\n// Initialize global styles\r\nKidsTasksStyleManager.injectGlobalStyles();\r\n\r\n// Make utilities globally available for components\r\nwindow.KidsTasksUtils = KidsTasksUtils;\r\nwindow.KidsTasksStyleManager = KidsTasksStyleManager;\r\n\r\n// Register custom elements\r\ncustomElements.define('kids-tasks-card', KidsTasksCard);\r\ncustomElements.define('kids-tasks-child-card', KidsTasksChildCard);\r\ncustomElements.define('kids-tasks-card-editor', KidsTasksCardEditor);\r\ncustomElements.define('kids-tasks-child-card-editor', KidsTasksChildCardEditor);\r\n\r\n// Register with Home Assistant card picker\r\nwindow.customCards = window.customCards || [];\r\nwindow.customCards.push(\r\n  {\r\n    type: 'kids-tasks-card',\r\n    name: 'Kids Tasks Card',\r\n    description: 'Manage children\\'s tasks and rewards with an engaging interface',\r\n    preview: true,\r\n    documentationURL: 'https://github.com/astrayel/kids-tasks-card'\r\n  },\r\n  {\r\n    type: 'kids-tasks-child-card',\r\n    name: 'Kids Tasks Child Card', \r\n    description: 'Individual child view for tasks and rewards',\r\n    preview: true,\r\n    documentationURL: 'https://github.com/astrayel/kids-tasks-card'\r\n  }\r\n);\r\n\r\n// Development hot reload support\r\nif (__DEV__ && typeof window !== 'undefined') {\r\n  // Enable hot reload in development\r\n  window.addEventListener('beforeunload', () => {\r\n    console.info('üîÑ Kids Tasks Card - Hot reload triggered');\r\n  });\r\n  \r\n  // Auto-reload when served from development server\r\n  if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {\r\n    let reloadCheckInterval;\r\n    let lastModified = Date.now();\r\n    \r\n    // Check for updates every 2 seconds\r\n    const checkForUpdates = async () => {\r\n      try {\r\n        const response = await fetch(window.location.href, { \r\n          method: 'HEAD',\r\n          cache: 'no-cache'\r\n        });\r\n        \r\n        const newLastModified = response.headers.get('last-modified');\r\n        if (newLastModified && newLastModified !== lastModified) {\r\n          console.info('üîÑ Hot reload: File changed, reloading...');\r\n          window.location.reload();\r\n        }\r\n      } catch (error) {\r\n        // Ignore network errors during development\r\n      }\r\n    };\r\n    \r\n    // Start checking after a delay to avoid initial false positives\r\n    setTimeout(() => {\r\n      reloadCheckInterval = setInterval(checkForUpdates, 2000);\r\n    }, 5000);\r\n    \r\n    // Clean up interval on unload\r\n    window.addEventListener('beforeunload', () => {\r\n      if (reloadCheckInterval) {\r\n        clearInterval(reloadCheckInterval);\r\n      }\r\n    });\r\n  }\r\n  \r\n  // Listen for Rollup live reload messages\r\n  if (typeof EventSource !== 'undefined') {\r\n    try {\r\n      const eventSource = new EventSource('http://localhost:35729/livereload');\r\n      eventSource.onmessage = function(event) {\r\n        if (event.data === 'reload') {\r\n          console.info('üîÑ Live reload triggered');\r\n          window.location.reload();\r\n        }\r\n      };\r\n      \r\n      eventSource.onerror = function() {\r\n        // Silently ignore - live reload server might not be running\r\n        eventSource.close();\r\n      };\r\n    } catch (error) {\r\n      // Live reload not available, use fallback polling\r\n    }\r\n  }\r\n  \r\n  // Expose components for debugging\r\n  window.KidsTasksCard = KidsTasksCard;\r\n  window.KidsTasksChildCard = KidsTasksChildCard;\r\n  window.KidsTasksBaseCard = KidsTasksBaseCard;\r\n  \r\n  // Development utilities\r\n  window.KidsTasksDebug = {\r\n    reloadCard: (cardElement) => {\r\n      if (cardElement && cardElement.setConfig && cardElement.hass) {\r\n        cardElement.setConfig(cardElement.config);\r\n        cardElement.hass = cardElement.hass;\r\n        console.info('üîÑ Card reloaded manually');\r\n      }\r\n    },\r\n    \r\n    reloadAllCards: () => {\r\n      document.querySelectorAll('kids-tasks-card, kids-tasks-child-card').forEach(card => {\r\n        window.KidsTasksDebug.reloadCard(card);\r\n      });\r\n      console.info('üîÑ All cards reloaded');\r\n    },\r\n    \r\n    inspectCard: (cardElement) => {\r\n      console.log('üîç Card inspection:', {\r\n        element: cardElement,\r\n        config: cardElement.config,\r\n        hass: cardElement._hass,\r\n        children: cardElement.getChildren?.()\r\n      });\r\n    }\r\n  };\r\n  \r\n  console.info('üõ†Ô∏è Development utilities available as window.KidsTasksDebug');\r\n}\r\n\r\n// Version info\r\nconst version = process.env.VERSION || '2.0.0';\r\nconst mode = __PROD__ ? 'production' : 'development';\r\n\r\nconsole.info(\r\n  `%c Kids Tasks Card v${version} loaded successfully! `, \r\n  'background: #4caf50; color: white; padding: 4px 8px; border-radius: 4px;'\r\n);\r\n\r\nif (__DEV__) {\r\n  console.info('üéØ Mode: Development with hot reload');\r\n  console.info('üèóÔ∏è Architecture: Modular ES6 components');\r\n  console.info('‚ö° Performance: Optimized rendering pipeline');\r\n  console.info('üé® Styles: Consolidated CSS variables');\r\n}\r\n\r\n// Export for potential external use\r\nexport {\r\n  KidsTasksCard,\r\n  KidsTasksChildCard,\r\n  KidsTasksBaseCard,\r\n  KidsTasksStyleManager,\r\n  KidsTasksUtils\r\n};"],"names":["KidsTasksStyleManager"],"mappings":";;8BAEA,MAAM,qBAAqB,CAAC;AAC5B,EAAE,OAAO,QAAQ,GAAG,IAAI;AACxB,EAAE,OAAO,QAAQ,GAAG,KAAK;AACzB,EAAE,OAAO,cAAc,GAAG,QAAQ;;AAElC,EAAE,OAAO,WAAW,GAAG;AACvB,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;AACxB,MAAM,IAAI,CAAC,QAAQ,GAAG,IAAI,qBAAqB,EAAE;AACjD,IAAI;AACJ,IAAI,OAAO,IAAI,CAAC,QAAQ;AACxB,EAAE;;AAEF,EAAE,OAAO,kBAAkB,GAAG;;AAE9B,IAAI,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,2BAA2B,CAAC;AAC9E,IAAI,IAAI,cAAc,IAAI,IAAI,CAAC,QAAQ,EAAE;AACzC,MAAM;AACN,IAAI;;AAEJ,IAAI,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC;AACxD,IAAI,YAAY,CAAC,EAAE,GAAG,0BAA0B;AAChD,IAAI,YAAY,CAAC,YAAY,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,CAAC;;AAElE,IAAI,YAAY,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,EAAE;AACrD,IAAI,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC;;AAE3C,IAAI,IAAI,CAAC,QAAQ,GAAG,IAAI;AACxB,IAAI,OAAO,CAAC,GAAG,CAAC,sCAAsC,GAAG,IAAI,CAAC,cAAc,CAAC;AAC7E,EAAE;;AAEF,EAAE,OAAO,eAAe,GAAG;AAC3B,IAAI,OAAO,CAAC;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,EAAE,IAAI,CAAC,eAAe,EAAE,CAAC,OAAO,CAAC,QAAQ,EAAE,wBAAwB,CAAC,CAAC;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,CAAC;AACL,EAAE;;;AAGF,EAAE,OAAO,eAAe,GAAG;AAC3B,IAAI,OAAO,CAAC;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,CAAC;AACL,EAAE;;AAEF,EAAE,OAAO,kBAAkB,GAAG;AAC9B,IAAI,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,2BAA2B,CAAC;AAC9E,IAAI,IAAI,cAAc,EAAE;AACxB,MAAM,cAAc,CAAC,MAAM,EAAE;AAC7B,MAAM,IAAI,CAAC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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,CAAC;AACL,EAAE;;AAEF,EAAE,gBAAgB,GAAG;AACrB,IAAI,MAAM,KAAK,GAAG;AAClB,MAAM,EAAE,EAAE,EAAE,WAAW,EAAE,KAAK,EAAE,oBAAoB,EAAE;AACtD,MAAM,EAAE,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,WAAW,EAAE;AAC3C,MAAM,EAAE,EAAE,EAAE,YAAY,EAAE,KAAK,EAAE,YAAY;AAC7C,KAAK;;AAEL,IAAI,OAAO,CAAC;AACZ;AACA,QAAQ,EAAE,KAAK,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC;AAC7B;AACA,8BAA8B,EAAE,IAAI,CAAC,WAAW,KAAK,IAAI,CAAC,EAAE,GAAG,QAAQ,GAAG,EAAE,CAAC;AAC7E;AACA,qBAAqB,EAAE,IAAI,CAAC,EAAE,CAAC;AAC/B;AACA,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC;AACzB;AACA,QAAQ,CAAC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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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"}